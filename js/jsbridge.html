<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JSBridge | AutoTouch Documents</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="AutoTouch official documents">
    
    <link rel="preload" href="/assets/css/0.styles.144c1593.css" as="style"><link rel="preload" href="/assets/js/app.b000b161.js" as="script"><link rel="preload" href="/assets/js/3.5e6777c5.js" as="script"><link rel="preload" href="/assets/js/13.b4d43e34.js" as="script"><link rel="prefetch" href="/assets/js/10.2636e332.js"><link rel="prefetch" href="/assets/js/11.bb7d3036.js"><link rel="prefetch" href="/assets/js/12.e4ec9b19.js"><link rel="prefetch" href="/assets/js/14.2fa848d6.js"><link rel="prefetch" href="/assets/js/15.1b56d991.js"><link rel="prefetch" href="/assets/js/4.8e8ea2dc.js"><link rel="prefetch" href="/assets/js/5.eee79492.js"><link rel="prefetch" href="/assets/js/6.171591a3.js"><link rel="prefetch" href="/assets/js/7.654f752a.js"><link rel="prefetch" href="/assets/js/8.909cdf44.js"><link rel="prefetch" href="/assets/js/9.4ef41c2d.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.3568dda2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.144c1593.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="AutoTouch Documents" class="logo"> <span class="site-name can-hide">AutoTouch Documents</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official Site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Repos for Cydia" class="dropdown-title"><span class="title">Repositories</span> <span class="arrow down"></span></button> <button type="button" aria-label="Repos for Cydia" class="mobile-dropdown-title"><span class="title">Repositories</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://beta.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Beta Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://apt.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://license.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Licenses
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official Site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Repos for Cydia" class="dropdown-title"><span class="title">Repositories</span> <span class="arrow down"></span></button> <button type="button" aria-label="Repos for Cydia" class="mobile-dropdown-title"><span class="title">Repositories</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://beta.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Beta Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://apt.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://license.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Licenses
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>About AutoTouch</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lua" class="sidebar-heading clickable"><span>Lua</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js/" class="sidebar-heading clickable router-link-active"><span>JavaScript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js/jsbridge" class="sidebar-heading clickable open active"><span>JSBridge</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/jsbridge.html" aria-current="page" class="active sidebar-link">JSBridge</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/jsbridge.html#what-is-jsbridge" class="sidebar-link">What is JSBridge?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-begin-with-jsbridge" class="sidebar-link">How to begin with JSBridge?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#usage-and-examples" class="sidebar-link">Usage and Examples</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-make-an-uialertview" class="sidebar-link">How to make an UIAlertView?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-make-an-uiwindow" class="sidebar-link">How to make an UIWindow?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-open-an-app-or-an-url" class="sidebar-link">How to open an app or an URL?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-show-an-image" class="sidebar-link">How to show an image?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-define-a-class-for-objective-c" class="sidebar-link">How to define a class for Objective-C?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-use-struct-of-objctive-c" class="sidebar-link">How to use struct of Objctive-C?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-use-selector-of-objective-c" class="sidebar-link">How to use selector of Objective-C?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-use-nil-of-objective-c" class="sidebar-link">How to use nil of Objective-C?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#use-nsarray-nsstring-nsdictionary-of-objective-c" class="sidebar-link">Use NSArray, NSString, NSDictionary of Objective-C</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#how-to-use-block-of-objective-c" class="sidebar-link">How to use block of Objective-C?</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#weak-strong" class="sidebar-link">__weak, __strong</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#gcd" class="sidebar-link">GCD</a></li><li class="sidebar-sub-header"><a href="/js/jsbridge.html#constants-enum-macro-global-variables" class="sidebar-link">Constants, enum, macro, global variables</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/http-api" class="sidebar-heading clickable"><span>HTTP APIs</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/release-notes" class="sidebar-heading clickable"><span>Release Notes</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="jsbridge"><a href="#jsbridge" class="header-anchor">#</a> JSBridge</h1> <p><code>Applicable to version 7.0.4 and above</code></p> <hr> <h2 id="what-is-jsbridge"><a href="#what-is-jsbridge" class="header-anchor">#</a> What is <code>JSBridge</code>?</h2> <blockquote><p><code>JSBridge</code> is a mechanism implementated the ability to call <code>classes</code>, <code>methods</code>, <code>variables</code> of <code>Objective-C</code> from <code>JavaScript</code>.</p></blockquote> <h2 id="how-to-begin-with-jsbridge"><a href="#how-to-begin-with-jsbridge" class="header-anchor">#</a> How to begin with <code>JSBridge</code>?</h2> <blockquote><ul><li>Learn <code>Objective-C</code> and <code>iOS</code> development for an hour before coding with <code>JSBridge</code>.</li> <li>Whenever you want to make something, Google the <code>Objective-C</code> implementation first.</li> <li>Use <code>use_jsbridge()</code> method to refer a <code>class</code> of <code>Objective-C</code> in <code>iOS</code>.</li> <li>Use <code>.thisIsAMethod()</code> to call a method of <code>Objective-C</code>, e.g. <code>[alertView show]</code> =&gt; <code>alertView.show()</code>.</li> <li>Use underline <code>_</code> to join method of <code>Objective-c</code> with multiple arguments, e.g. <code>[UIView animateWithDuration:duration animations:animations]</code> =&gt; <code>UIView.animateWithDuration_animations(duration, animations)</code></li> <li>Use <code>.setProperty(value)</code> instead of <code>.property = value</code> to set value to a property.</li> <li>All stuff relative to <code>UI</code> much be put in the block <code>dispatch_async_main(function () {})</code> or it will crash.</li></ul></blockquote> <h2 id="usage-and-examples"><a href="#usage-and-examples" class="header-anchor">#</a> Usage and Examples</h2> <h3 id="how-to-make-an-uialertview"><a href="#how-to-make-an-uialertview" class="header-anchor">#</a> How to make an <code>UIAlertView</code>?</h3> <p><code>Original implementation with Objective-C</code></p> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code>UIAlertView <span class="token operator">*</span>alertView <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>UIAlertView alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
alertView<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">@&quot;What is this?&quot;</span>
alertView<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">@&quot;This is UIAlertView of iOS which is called through JSBridge, you can use JSBridge to call any class/methods/variables of iOS, it makes anything possible!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>alertView addButtonWithTitle<span class="token punctuation">:</span><span class="token string">@&quot;OK&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>alertView show<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Implement it with JSBridge</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Import required classes of iOS/Objective-C</span>
<span class="token keyword">const</span> UIAlertView <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIAlertView'</span><span class="token punctuation">)</span>
<span class="token comment">// You can also use it directly like this: `use_jsbridge('UIAlertView').alloc().init()`</span>

<span class="token comment">//-------------------------------------------------------------------------------</span>
<span class="token comment">// !!!!!!!!ANYTHING relative to UI should be in dispatch_async_main block!!!!!!!!</span>
<span class="token comment">//-------------------------------------------------------------------------------</span>
<span class="token function">dispatch_async_main</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Show an alert view of iOS</span>
    <span class="token keyword">var</span> alertView <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIAlertView'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    alertView<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">'What is this?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    alertView<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">'This is UIAlertView of iOS which is called through JSBridge, you can use JSBridge to call any class/methods/variables of iOS, it makes anything possible!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    alertView<span class="token punctuation">.</span><span class="token function">addButtonWithTitle</span><span class="token punctuation">(</span><span class="token string">'OK'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    alertView<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h3 id="how-to-make-an-uiwindow"><a href="#how-to-make-an-uiwindow" class="header-anchor">#</a> How to make an <code>UIWindow</code>?</h3> <p><code>Original implementation with Objective-C</code></p> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code>CGRect frame <span class="token operator">=</span> <span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
UIWindow <span class="token operator">*</span>window <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>UIWindow alloc<span class="token punctuation">]</span> initWithFrame<span class="token punctuation">:</span>frame<span class="token punctuation">]</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">[</span>UICOlor redColor<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// this line equals to `[window setBackgroundColor:[UICOlor redColor]];` In Objective-c </span>
<span class="token punctuation">[</span>window setWindowLevel<span class="token punctuation">:</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>window makeKeyAndVisible<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Implement it with JSBridge</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//-------------------------------------------------------------------------------</span>
<span class="token comment">// !!!!!!!!ANYTHING relative to UI should be in dispatch_async_main block!!!!!!!!</span>
<span class="token comment">//-------------------------------------------------------------------------------</span>
<span class="token function">dispatch_async_main</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> frame <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">300</span> <span class="token punctuation">}</span>
    <span class="token keyword">const</span> window <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIWindow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">initWithFrame</span><span class="token punctuation">(</span>frame<span class="token punctuation">)</span>
    <span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIColor'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">redColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span><span class="token function">setBackgroundColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    window<span class="token punctuation">.</span><span class="token function">setWindowLevel</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span><span class="token function">makeKeyAndVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h3 id="how-to-open-an-app-or-an-url"><a href="#how-to-open-an-app-or-an-url" class="header-anchor">#</a> How to open an app or an URL?</h3> <p><code>Original implementation with Objective-C</code></p> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code>NSString <span class="token operator">*</span>urlString <span class="token operator">=</span> <span class="token string">@&quot;https://autotouch.net&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// open Preferences: `NSString *urlString = @&quot;prefs:root=General&amp;path=About&quot;`</span>
<span class="token comment">// open Music App: `NSString *urlString = @&quot;musics://&quot;`</span>
<span class="token comment">// open an item in App Store: `NSString *urlString = @&quot;itms-apps://itunes.apple.com&quot;`</span>
<span class="token comment">// open telephone: `NSString *urlString = @&quot;tel://+1123456&quot;`</span>
<span class="token comment">// open Preferences: `NSString *urlString = @&quot;prefs:root=General&amp;path=About&quot;`</span>
<span class="token comment">// open Preferences: `NSString *urlString = @&quot;prefs:root=General&amp;path=About&quot;`</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span>UIApplication sharedApplication<span class="token punctuation">]</span> openURL<span class="token punctuation">:</span><span class="token punctuation">[</span>NSURL URLWithString<span class="token punctuation">:</span>urlString<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Implement it with JSBridge</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Open Map app with `JSBridge`</span>
<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'NSURL'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">URLWithString</span><span class="token punctuation">(</span><span class="token string">'maps://'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIApplication'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sharedApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openURL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h3 id="how-to-show-an-image"><a href="#how-to-show-an-image" class="header-anchor">#</a> How to show an image?</h3> <p><code>Original implementation with Objective-C</code></p> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code>CGRect frame <span class="token operator">=</span> <span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
UIWindow <span class="token operator">*</span>window <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>UIWindow alloc<span class="token punctuation">]</span> initWithFrame<span class="token punctuation">:</span>frame<span class="token punctuation">]</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">[</span>UICOlor redColor<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// this line equals to `[window setBackgroundColor:[UICOlor redColor]];` In Objective-c </span>
<span class="token punctuation">[</span>window setWindowLevel<span class="token punctuation">:</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>window makeKeyAndVisible<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Implement it with JSBridge</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> UIWindow <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIWindow'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> UIImageView <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIImageView'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> UIImage <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIImage'</span><span class="token punctuation">)</span>
<span class="token comment">//-------------------------------------------------------------------------------</span>
<span class="token comment">// !!!!!!!!ANYTHING relative to UI should be in dispatch_async_main block!!!!!!!!</span>
<span class="token comment">//-------------------------------------------------------------------------------</span>
<span class="token function">dispatch_async_main</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// You need an UIWindow first</span>
    <span class="token keyword">const</span> frame <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">300</span> <span class="token punctuation">}</span>
    <span class="token keyword">const</span> window <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIWindow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">initWithFrame</span><span class="token punctuation">(</span>frame<span class="token punctuation">)</span>
    <span class="token keyword">const</span> color <span class="token operator">=</span> UIColor<span class="token punctuation">.</span><span class="token function">redColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span><span class="token function">setBackgroundColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    window<span class="token punctuation">.</span><span class="token function">setWindowLevel</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>

    <span class="token comment">// Construct an UIImageView</span>
    <span class="token keyword">const</span> imageViewFrame <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span>
    <span class="token keyword">const</span> imageView <span class="token operator">=</span> UIImageView<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">initWithFrame</span><span class="token punctuation">(</span>imageViewFrame<span class="token punctuation">)</span>
    <span class="token keyword">const</span> image <span class="token operator">=</span> UIImage<span class="token punctuation">.</span><span class="token function">imageNamed</span><span class="token punctuation">(</span><span class="token string">'/var/mobile/Library/AutoTouch/Scripts/Examples/images/cat.png'</span><span class="token punctuation">)</span>
    imageView<span class="token punctuation">.</span><span class="token function">setImage</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span>

    <span class="token comment">// Put the UIImageView on the window</span>
    window<span class="token punctuation">.</span><span class="token function">addSubview</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span>

    <span class="token comment">// Show the window</span>
    window<span class="token punctuation">.</span><span class="token function">makeKeyAndVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// use window.setHidden(true) to dismiss the window</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h3 id="how-to-define-a-class-for-objective-c"><a href="#how-to-define-a-class-for-objective-c" class="header-anchor">#</a> How to define a class for Objective-C?</h3> <blockquote><p>Use <code>defineClass(classDeclaration, [properties,] instanceMethods, classMethods)</code></p></blockquote> <p>@param <code>classDeclaration</code>: class name, super classname and protocols<br>
@param <code>properties</code>: new propertie names, a string array<br>
@param <code>instanceMethods</code>: instance methods you want to override or add<br>
@param <code>classMethods</code>: class methods you want to override or add</p> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> MyTestObject
<span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>shareInstance
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token comment">// new properties</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// instance methods</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// Class static methods</span>
  <span class="token function-variable function">shareInstance</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="override-existing-instance-methods"><a href="#override-existing-instance-methods" class="header-anchor">#</a> Override existing instance methods</h4> <blockquote><p>Use single underline <code>_</code> to join multiple param names of the original method:</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> MyTableViewController
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>tableView<span class="token punctuation">:</span><span class="token punctuation">(</span>UITableView <span class="token operator">*</span><span class="token punctuation">)</span>tableView didSelectRowAtIndexPath<span class="token punctuation">:</span><span class="token punctuation">(</span>NSIndexPath <span class="token operator">*</span><span class="token punctuation">)</span>indexPath
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">tableView_didSelectRowAtIndexPath</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">tableView<span class="token punctuation">,</span> indexPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>Use double underlines <code>__</code> to replace single underline <code>_</code> in the original method name of Objective-C:</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> MyTableViewController
<span class="token operator">-</span> <span class="token punctuation">(</span>NSArray <span class="token operator">*</span><span class="token punctuation">)</span> _dataSource <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">__dataSource</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>Call original method by adding prefix <code>ORIG</code> to the method name.</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> MyTableViewController
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> viewDidLoad <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">viewDidLoad</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     self<span class="token punctuation">.</span><span class="token function">ORIGviewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="override-existing-class-static-methods"><a href="#override-existing-class-static-methods" class="header-anchor">#</a> Override existing class static methods</h4> <blockquote><p>Same rules as instance methods</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> MyTestObject
<span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>shareInstance
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token comment">// new properties</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// instance methods</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// Class static methods</span>
  <span class="token function-variable function">shareInstance</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="override-category-methods"><a href="#override-category-methods" class="header-anchor">#</a> Override <code>Category</code> methods</h4> <blockquote><p>Same rules as overriding instand methods and class methods</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// OBJC</span>
<span class="token keyword">@implementation</span> <span class="token function">UIView</span> <span class="token punctuation">(</span>custom<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>methodA <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>clsMethodB <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">'UIView'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">methodA</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">clsMethodB</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h4 id="use-super"><a href="#use-super" class="header-anchor">#</a> Use <code>super()</code></h4> <blockquote><p><code>self.super()</code> is <code>super</code> method of <code>Objective-C</code>, use it to call parent class's methods/properties</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">viewDidLoad</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     self<span class="token punctuation">.</span><span class="token function">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="get-set-properties"><a href="#get-set-properties" class="header-anchor">#</a> get/set properties</h4> <blockquote><p>Use <code>get</code> and <code>set</code> to get / set existing property</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@interface</span> MyTableViewController
<span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">)</span> NSArray <span class="token operator">*</span>data<span class="token punctuation">;</span>
<span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">)</span> NSString <span class="token operator">*</span>shareURL<span class="token punctuation">;</span>
<span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">)</span> NSString <span class="token operator">*</span>shareTitle<span class="token punctuation">;</span>
<span class="token keyword">@end</span>
<span class="token keyword">@implementation</span> MyTableViewController
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">viewDidLoad</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> data <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//get property value</span>
     self<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;Something&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//set property value</span>
     <span class="token keyword">var</span> sel <span class="token operator">=</span> self<span class="token punctuation">;</span>
     self<span class="token punctuation">.</span><span class="token function">bridge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerHandler_handler</span><span class="token punctuation">(</span><span class="token string">'h5ToNativeShareDialog'</span><span class="token punctuation">,</span> <span class="token function">block</span><span class="token punctuation">(</span><span class="token string">'NSDictionary *'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>responseCallback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         
         sel<span class="token punctuation">.</span><span class="token function">setShareURL</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">objectForKey</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         sel<span class="token punctuation">.</span><span class="token function">setShareTitle</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">objectForKey</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>Use <code>getProp()</code> and <code>setProp_forKey()</code> to get / set new property</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@interface</span> MyTableViewController
<span class="token keyword">@end</span>
<span class="token keyword">@implementation</span> MyTableViewController
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     self <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     self<span class="token punctuation">.</span><span class="token function">setProp_forKey</span><span class="token punctuation">(</span><span class="token string">&quot;Something&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;data&quot;</span><span class="token punctuation">)</span>     <span class="token comment">//add new property (id data)</span>
     <span class="token keyword">return</span> self<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">viewDidLoad</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> data <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">getProp</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">)</span>     <span class="token comment">//get the new property value</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>Put new property names at the second parameter of <code>defineClass()</code></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token string">'totalCount'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     self <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     self<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment">// new property (id data)</span>
     self<span class="token punctuation">.</span><span class="token function">setTotalCount</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
     <span class="token keyword">return</span> self
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">viewDidLoad</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> data <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// get property</span>
     <span class="token keyword">var</span> totalCount <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">totalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>Use <code>valueForKey()</code> and <code>setValue_forKey()</code> to get / set private variables</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> MyTableViewController <span class="token punctuation">{</span>
     NSArray <span class="token operator">*</span>_data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">viewDidLoad</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> data <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">valueForKey</span><span class="token punctuation">(</span><span class="token string">&quot;_data&quot;</span><span class="token punctuation">)</span>     <span class="token comment">//get member variables</span>
     self<span class="token punctuation">.</span><span class="token function">setValue_forKey</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;Something&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;_data&quot;</span><span class="token punctuation">)</span>     <span class="token comment">//set member variables</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="add-new-methods"><a href="#add-new-methods" class="header-anchor">#</a> Add new methods</h4> <blockquote><p>You can add new methods to the existing Class, if you want to call the new method in Objective-C, all the params type is <code>id</code> type of Objective-c.</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> MyTableViewController
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad
<span class="token punctuation">{</span>
     NSString<span class="token operator">*</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span> dataAtIndex<span class="token punctuation">:</span><span class="token operator">@</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%@&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//output: Patch</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;JS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Patch&quot;</span><span class="token punctuation">]</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyTableViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">dataAtIndex</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">idx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> idx <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length <span class="token operator">?</span> data<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>You can make class conforms to protocols:</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyViewController: UIViewController&lt;UIScrollViewDelegate, UITextViewDelegate&gt;&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>If you want to add method that defined in protocol and params or return types is not <code>id</code>, you must conforms to the protocol.</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@protocol</span> UIAlertViewDelegate <span class="token operator">&lt;</span>NSObject<span class="token operator">&gt;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>alertView<span class="token punctuation">:</span><span class="token punctuation">(</span>UIAlertView <span class="token operator">*</span><span class="token punctuation">)</span>alertView clickedButtonAtIndex<span class="token punctuation">:</span><span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>buttonIndex<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyViewController: UIViewController &lt;UIAlertViewDelegate&gt;&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">viewDidAppear</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">animated</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> alertView <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'UIAlertView'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">initWithTitle_message_delegate_cancelButtonTitle_otherButtonTitles</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Alert&quot;</span><span class="token punctuation">,</span>
        self<span class="token punctuation">.</span><span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">objectAtIndex</span><span class="token punctuation">(</span>indexPath<span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
        self<span class="token punctuation">,</span> 
        <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span> 
        <span class="token keyword">null</span>
      <span class="token punctuation">)</span>
     alertView<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">alertView_clickedButtonAtIndex</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">alertView<span class="token punctuation">,</span> buttonIndex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'clicked index '</span> <span class="token operator">+</span> buttonIndex<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h3 id="how-to-use-struct-of-objctive-c"><a href="#how-to-use-struct-of-objctive-c" class="header-anchor">#</a> How to use <code>struct</code> of Objctive-C?</h3> <blockquote><p>AutoTouch has preset for structs of Obejctive-C: <code>CGRect</code>, <code>CGPoint</code>, <code>CGSize</code>, <code>NSRange</code>, you can use them directly.</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
UIView <span class="token operator">*</span>view <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>UIView alloc<span class="token punctuation">]</span> initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>view setCenter<span class="token punctuation">:</span><span class="token function">CGPointMake</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>view sizeThatFits<span class="token punctuation">:</span><span class="token function">CGSizeMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
CGFloat x <span class="token operator">=</span> view<span class="token punctuation">.</span>frame<span class="token punctuation">.</span>origin<span class="token punctuation">.</span>x<span class="token punctuation">;</span>

NSRange range <span class="token operator">=</span> <span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token keyword">const</span> view <span class="token operator">=</span> UIView<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">initWithFrame</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">width</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
view<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
view<span class="token punctuation">.</span><span class="token function">sizeThatFits</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> x <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>x
<span class="token keyword">const</span> range <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
</code></pre></div><blockquote><p>You can use <code>defineStruct</code> to define other structs beside the four</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineStruct</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'StructName'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">types</span><span class="token operator">:</span> <span class="token string">'SFF'</span><span class="token punctuation">,</span> <span class="token comment">// look below</span>
  <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'propertyName1'</span><span class="token punctuation">,</span> <span class="token string">'propertyName1'</span><span class="token punctuation">,</span> <span class="token string">'propertyName3'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// type values:</span>
<span class="token string-property property">'c'</span><span class="token operator">:</span> char 
<span class="token string-property property">'C'</span><span class="token operator">:</span> unsigned char 
<span class="token string-property property">'s'</span><span class="token operator">:</span> short 
<span class="token string-property property">'S'</span><span class="token operator">:</span> unsigned short 
<span class="token string-property property">'i'</span><span class="token operator">:</span> int 
<span class="token string-property property">'I'</span><span class="token operator">:</span> unsigned int 
<span class="token string-property property">'l'</span><span class="token operator">:</span> long 
<span class="token string-property property">'L'</span><span class="token operator">:</span> unsigned long 
<span class="token string-property property">'q'</span><span class="token operator">:</span> long long 
<span class="token string-property property">'Q'</span><span class="token operator">:</span> unsigned long long 
<span class="token string-property property">'f'</span><span class="token operator">:</span> float 
<span class="token string-property property">'F'</span><span class="token operator">:</span> CGFloat 
<span class="token string-property property">'N'</span><span class="token operator">:</span> NSInteger 
<span class="token string-property property">'U'</span><span class="token operator">:</span> NSUInteger 
<span class="token string-property property">'d'</span><span class="token operator">:</span> double 
<span class="token string-property property">'B'</span><span class="token operator">:</span> <span class="token constant">BOOL</span> 
</code></pre></div><p><code>Examples</code></p> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">struct</span> DemoStruct <span class="token punctuation">{</span>
  CGFloat a<span class="token punctuation">;</span>
  <span class="token keyword">long</span> b<span class="token punctuation">;</span>
  <span class="token keyword">double</span> c<span class="token punctuation">;</span>
  BOOL d<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">@implementation</span> DemoClass
<span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>passStruct<span class="token punctuation">:</span><span class="token punctuation">(</span>DemoStruct<span class="token punctuation">)</span>s<span class="token punctuation">;</span>
<span class="token operator">+</span> <span class="token punctuation">(</span>DemoStruct<span class="token punctuation">)</span>returnStruct<span class="token punctuation">;</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineStruct</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'DemoStruct'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">types</span><span class="token operator">:</span> <span class="token string">'FldB'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> DemoClass <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'DemoClass'</span><span class="token punctuation">)</span>
DemoClass<span class="token punctuation">.</span><span class="token function">passStruct</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span><span class="token number">4.2</span><span class="token punctuation">,</span> <span class="token literal-property property">d</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> s <span class="token operator">=</span> DemoClass<span class="token punctuation">.</span><span class="token function">returnStruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h3 id="how-to-use-selector-of-objective-c"><a href="#how-to-use-selector-of-objective-c" class="header-anchor">#</a> How to use <code>selector</code> of Objective-C?</h3> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token punctuation">[</span><span class="token keyword">self</span> performSelector<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>viewWillAppear<span class="token punctuation">:</span><span class="token punctuation">)</span> withObject<span class="token punctuation">:</span><span class="token operator">@</span><span class="token punctuation">(</span>YES<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
self<span class="token punctuation">.</span><span class="token function">performSelector_withObject</span><span class="token punctuation">(</span><span class="token string">&quot;viewWillAppear:&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="how-to-use-nil-of-objective-c"><a href="#how-to-use-nil-of-objective-c" class="header-anchor">#</a> How to use <code>nil</code> of Objective-C?</h3> <blockquote><p><code>null</code>, <code>undefined</code> of <code>JavaScript</code> equal <code>nil</code>, <code>NULL</code> of <code>Objective-C</code><br> <code>nsnull</code> of <code>JavaScript</code> equals <code>NSNull</code>of <code>Objective-C</code></p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> TestObject
<span class="token operator">+</span> <span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span><span class="token function">testNull</span><span class="token punctuation">(</span>NSNull <span class="token operator">*</span>null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>null isKindOfClass<span class="token punctuation">:</span><span class="token punctuation">[</span>NSNull class<span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'TestObject'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">testNull</span><span class="token punctuation">(</span>nsnull<span class="token punctuation">)</span> <span class="token comment">//return 1</span>
<span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'TestObject'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">testNull</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">//return 0</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> rawData <span class="token operator">=</span> NSData<span class="token punctuation">.</span><span class="token function">dataWithContentsOfURL</span><span class="token punctuation">(</span><span class="token constant">NSURL</span><span class="token punctuation">.</span><span class="token function">URLWithString</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>rawData <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//Don't use this to check null</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>rawData<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// Use this to check null</span>
</code></pre></div><hr> <h3 id="use-nsarray-nsstring-nsdictionary-of-objective-c"><a href="#use-nsarray-nsstring-nsdictionary-of-objective-c" class="header-anchor">#</a> Use <code>NSArray</code>, <code>NSString</code>, <code>NSDictionary</code> of Objective-C</h3> <blockquote><p>You should use <code>NSArray</code>, <code>NSString</code>, <code>NSDictionary</code> of Objective-C as a common <code>NSObject</code></p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> DemoObject
<span class="token operator">+</span> <span class="token punctuation">(</span>NSArray <span class="token operator">*</span><span class="token punctuation">)</span>data
<span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">@</span><span class="token punctuation">[</span><span class="token punctuation">[</span>NSMutableString stringWithString<span class="token punctuation">:</span><span class="token string">@&quot;JS&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token operator">+</span> <span class="token punctuation">(</span>NSMutableDictionary <span class="token operator">*</span><span class="token punctuation">)</span>dict
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSMutableDictionary alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token keyword">const</span> DemoObject <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'DemoObject'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ocStr <span class="token operator">=</span> DemoObject<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">objectAtIndex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
ocStr<span class="token punctuation">.</span><span class="token function">appendString</span><span class="token punctuation">(</span><span class="token string">&quot;Something&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> dict <span class="token operator">=</span> DemoObject<span class="token punctuation">.</span><span class="token function">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dict<span class="token punctuation">.</span><span class="token function">setObject_forKey</span><span class="token punctuation">(</span>ocStr<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dict<span class="token punctuation">.</span><span class="token function">objectForKey</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>You can also use <code>.toJS()</code> to covert <code>NSArray</code>, <code>NSString</code>, <code>NSDictionary</code> to array, string, dict of <code>JavaScript</code></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'DemoObject'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// data instanceof Array === true</span>
data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;Ok&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> dict <span class="token operator">=</span> DemoObject<span class="token punctuation">.</span><span class="token function">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dict<span class="token punctuation">.</span><span class="token function">setObject_forKey</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span>
dict <span class="token operator">=</span> dict<span class="token punctuation">.</span><span class="token function">toJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dict<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h3 id="how-to-use-block-of-objective-c"><a href="#how-to-use-block-of-objective-c" class="header-anchor">#</a> How to use <code>block</code> of Objective-C?</h3> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> DemoObject
<span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>request<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>content<span class="token punctuation">,</span> BOOL success<span class="token punctuation">)</span><span class="token punctuation">)</span>callback
<span class="token punctuation">{</span>
  <span class="token function">callback</span><span class="token punctuation">(</span><span class="token string">@&quot;I'm content&quot;</span><span class="token punctuation">,</span> YES<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'DemoObject'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token function">block</span><span class="token punctuation">(</span><span class="token string">&quot;NSString *, BOOL&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ctn<span class="token punctuation">,</span> succ</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>succ<span class="token punctuation">)</span> <span class="token function">log</span><span class="token punctuation">(</span>ctn<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">@implementation</span> DemoObject
<span class="token keyword">typedef</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span>JSBlock<span class="token punctuation">)</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span>dict<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span> <span class="token punctuation">(</span>JSBlock<span class="token punctuation">)</span>genBlock
<span class="token punctuation">{</span>
  NSString <span class="token operator">*</span>ctn <span class="token operator">=</span> <span class="token string">@&quot;Submit&quot;</span><span class="token punctuation">;</span>
  JSBlock block <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span>dict<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;I'm %@, version: %@&quot;</span><span class="token punctuation">,</span> ctn<span class="token punctuation">,</span> dict<span class="token punctuation">[</span><span class="token string">@&quot;v&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>execBlock<span class="token punctuation">:</span><span class="token punctuation">(</span>JSBlock<span class="token punctuation">)</span>blk
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token keyword">const</span> blk <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'DemoObject'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">genBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">blk</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">v</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//-------------------</span>
<span class="token keyword">var</span> blk <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'DemoObject'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">genBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">blk</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">v</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'DemoObject'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execBlock</span><span class="token punctuation">(</span><span class="token function">block</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> blk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>requestUrl<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>url withCallback<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>id data<span class="token punctuation">)</span><span class="token punctuation">)</span>callback<span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">'TestObject'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">requestUrl_withCallback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    self<span class="token punctuation">.</span><span class="token function">handleCallback</span><span class="token punctuation">(</span><span class="token function">block</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>How to use <code>self</code> in a <code>block</code>?</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">&quot;MyViewController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">viewDidLoad</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> slf <span class="token operator">=</span> self<span class="token punctuation">;</span>
    <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">&quot;TestObject&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">callBlock</span><span class="token punctuation">(</span><span class="token function">block</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">//`self` is not available here, use `slf` instead.</span>
      slf<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="weak-strong"><a href="#weak-strong" class="header-anchor">#</a> <code>__weak</code>, <code>__strong</code></h3> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>test <span class="token punctuation">{</span>
    __weak id weakSelf <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> setCompleteBlock<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token punctuation">[</span>weakSelf blabla<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token keyword">var</span> weakSelf <span class="token operator">=</span> <span class="token function">__weak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>
self<span class="token punctuation">.</span><span class="token function">setCompleteBlock</span><span class="token punctuation">(</span><span class="token function">block</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    weakSelf<span class="token punctuation">.</span><span class="token function">blabla</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// How to convert it to `__strong`</span>
<span class="token keyword">var</span> weakSelf <span class="token operator">=</span> <span class="token function">__weak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>
self<span class="token punctuation">.</span><span class="token function">setCompleteBlock</span><span class="token punctuation">(</span><span class="token function">block</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> strongSelf <span class="token operator">=</span> <span class="token function">__strong</span><span class="token punctuation">(</span>weakSelf<span class="token punctuation">)</span>
    strongSelf<span class="token punctuation">.</span><span class="token function">blabla</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="gcd"><a href="#gcd" class="header-anchor">#</a> <code>GCD</code></h3> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token function">dispatch_after</span><span class="token punctuation">(</span><span class="token function">dispatch_time</span><span class="token punctuation">(</span>DISPATCH_TIME_NOW<span class="token punctuation">,</span> <span class="token punctuation">(</span>int64_t<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">*</span> NSEC_PER_SEC<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">dispatch_async</span><span class="token punctuation">(</span><span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token function">dispatch_after</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">dispatch_async_main</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">dispatch_sync_main</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">dispatch_async_global_queue</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="constants-enum-macro-global-variables"><a href="#constants-enum-macro-global-variables" class="header-anchor">#</a> Constants, enum, macro, global variables</h3> <blockquote><p>You can't use Contants and enums of Objective-C directly in JavaScript</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token punctuation">[</span>btn addTarget<span class="token punctuation">:</span><span class="token keyword">self</span> action<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>handleBtn<span class="token punctuation">)</span> forControlEvents<span class="token punctuation">:</span>UIControlEventTouchUpInside<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token comment">// value of UIControlEventTouchUpInside is 1&lt;&lt;6 from Apple's document</span>
btn<span class="token punctuation">.</span><span class="token function">addTarget_action_forControlEvents</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">&quot;handleBtn&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// OR redefine the constants in js</span>
<span class="token comment">//js</span>
<span class="token keyword">const</span> UIControlEventTouchUpInside  <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addTarget_action_forControlEvents</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">&quot;handleBtn&quot;</span><span class="token punctuation">,</span> UIControlEventTouchUpInside<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>Macro of Objective-C</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">TABBAR_HEIGHT</span> <span class="token expression"><span class="token number">40</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SCREEN_WIDTH</span> <span class="token expression"><span class="token punctuation">[</span><span class="token punctuation">[</span>UIScreen mainScreen<span class="token punctuation">]</span> bounds<span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>height</span></span>
<span class="token punctuation">[</span>view setWidth<span class="token punctuation">:</span>SCREEN_WIDTH height<span class="token punctuation">:</span>TABBAR_HEIGHT<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
view<span class="token punctuation">.</span><span class="token function">setWidth_height</span><span class="token punctuation">(</span>UIScreen<span class="token punctuation">.</span><span class="token function">mainScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>Get global variable defined in an Objective-C class</p></blockquote> <div class="language-objectivec extra-class"><pre class="language-objectivec"><code><span class="token comment">// Objective-C</span>
<span class="token keyword">static</span> NSString <span class="token operator">*</span>name<span class="token punctuation">;</span>
<span class="token keyword">@implementation</span> TestObject
<span class="token operator">+</span> <span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>name <span class="token punctuation">{</span>
  <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// JavaScript</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">use_jsbridge</span><span class="token punctuation">(</span><span class="token string">'TestObject'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2 years ago</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/js/api.html" class="prev">
        API References
      </a></span> <span class="next"><a href="/http-api.html">
        HTTP APIs
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b000b161.js" defer></script><script src="/assets/js/3.5e6777c5.js" defer></script><script src="/assets/js/13.b4d43e34.js" defer></script>
  </body>
</html>

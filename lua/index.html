<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lua Guide | AutoTouch Documents</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="AutoTouch official documents">
    
    <link rel="preload" href="/assets/css/0.styles.144c1593.css" as="style"><link rel="preload" href="/assets/js/app.b000b161.js" as="script"><link rel="preload" href="/assets/js/3.5e6777c5.js" as="script"><link rel="preload" href="/assets/js/14.2fa848d6.js" as="script"><link rel="prefetch" href="/assets/js/10.2636e332.js"><link rel="prefetch" href="/assets/js/11.bb7d3036.js"><link rel="prefetch" href="/assets/js/12.e4ec9b19.js"><link rel="prefetch" href="/assets/js/13.b4d43e34.js"><link rel="prefetch" href="/assets/js/15.1b56d991.js"><link rel="prefetch" href="/assets/js/4.8e8ea2dc.js"><link rel="prefetch" href="/assets/js/5.eee79492.js"><link rel="prefetch" href="/assets/js/6.171591a3.js"><link rel="prefetch" href="/assets/js/7.654f752a.js"><link rel="prefetch" href="/assets/js/8.909cdf44.js"><link rel="prefetch" href="/assets/js/9.4ef41c2d.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.3568dda2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.144c1593.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="AutoTouch Documents" class="logo"> <span class="site-name can-hide">AutoTouch Documents</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official Site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Repos for Cydia" class="dropdown-title"><span class="title">Repositories</span> <span class="arrow down"></span></button> <button type="button" aria-label="Repos for Cydia" class="mobile-dropdown-title"><span class="title">Repositories</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://beta.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Beta Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://apt.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://license.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Licenses
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official Site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Repos for Cydia" class="dropdown-title"><span class="title">Repositories</span> <span class="arrow down"></span></button> <button type="button" aria-label="Repos for Cydia" class="mobile-dropdown-title"><span class="title">Repositories</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://beta.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Beta Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://apt.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Official Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://license.autotouch.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Licenses
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>About AutoTouch</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lua" aria-current="page" class="sidebar-heading clickable router-link-exact-active router-link-active open"><span>Lua</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/lua/" aria-current="page" class="active sidebar-link">Lua Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lua/#usage" class="sidebar-link">Usage</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-install" class="sidebar-link">How to install?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-use-activator" class="sidebar-link">How to use Activator?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-record" class="sidebar-link">How to record?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-play-script" class="sidebar-link">How to play script?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-take-screenshot" class="sidebar-link">How to take screenshot?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-write-a-script" class="sidebar-link">How to write a script?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-use-the-function-helper-while-script-coding" class="sidebar-link">How to use the &quot;Function Helper&quot; while script coding?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-write-and-manage-scripts-on-the-computer" class="sidebar-link">How to write and manage scripts on the computer?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-use-package-to-orgainize-the-script-project" class="sidebar-link">How to use Package to orgainize the script project?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-encrypt-the-scripts" class="sidebar-link">How to encrypt the scripts?</a></li><li class="sidebar-sub-header"><a href="/lua/#how-to-buy-autotouch-license" class="sidebar-link">How to buy AutoTouch license?</a></li><li class="sidebar-sub-header"><a href="/lua/#basis" class="sidebar-link">Basis</a></li><li class="sidebar-sub-header"><a href="/lua/#develop-tool" class="sidebar-link">Develop Tool</a></li><li class="sidebar-sub-header"><a href="/lua/#coordinate-size-and-orientation-system" class="sidebar-link">Coordinate, Size and Orientation System</a></li><li class="sidebar-sub-header"><a href="/lua/#extension-libraries" class="sidebar-link">Extension Libraries</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lua/#luacurl" class="sidebar-link">LuaCURL</a></li><li class="sidebar-sub-header"><a href="/lua/#luasocket" class="sidebar-link">LuaSocket</a></li><li class="sidebar-sub-header"><a href="/lua/#luasec" class="sidebar-link">LuaSec</a></li><li class="sidebar-sub-header"><a href="/lua/#luasqlite3" class="sidebar-link">LuaSqlite3</a></li><li class="sidebar-sub-header"><a href="/lua/#json-lua" class="sidebar-link">json.lua</a></li><li class="sidebar-sub-header"><a href="/lua/#plist" class="sidebar-link">Plist</a></li><li class="sidebar-sub-header"><a href="/lua/#penlight" class="sidebar-link">Penlight</a></li><li class="sidebar-sub-header"><a href="/lua/#luafilesystem" class="sidebar-link">LuaFileSystem</a></li><li class="sidebar-sub-header"><a href="/lua/#websocket" class="sidebar-link">WebSocket</a></li></ul></li><li class="sidebar-sub-header"><a href="/lua/#extension-functions" class="sidebar-link">Extension Functions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lua/#touchdown-id-x-y" class="sidebar-link">touchDown(id, x, y)</a></li><li class="sidebar-sub-header"><a href="/lua/#touchmove-id-x-y" class="sidebar-link">touchMove(id, x, y)</a></li><li class="sidebar-sub-header"><a href="/lua/#touchup-id-x-y" class="sidebar-link">touchUp(id, x, y)</a></li><li class="sidebar-sub-header"><a href="/lua/#keydown-keytype" class="sidebar-link">keyDown(keyType)</a></li><li class="sidebar-sub-header"><a href="/lua/#keyup-keytype" class="sidebar-link">keyUp(keyType)</a></li><li class="sidebar-sub-header"><a href="/lua/#getcolor-x-y" class="sidebar-link">getColor(x, y)</a></li><li class="sidebar-sub-header"><a href="/lua/#getcolors-locations" class="sidebar-link">getColors(locations)</a></li><li class="sidebar-sub-header"><a href="/lua/#findcolor-color-count-region-debug-righttoleft-bottomtotop" class="sidebar-link">findColor(color, count, region, debug, rightToLeft, bottomToTop)</a></li><li class="sidebar-sub-header"><a href="/lua/#findcolors-colors-count-region-debug-righttoleft-bottomtotop" class="sidebar-link">findColors(colors, count, region, debug, rightToLeft, bottomToTop)</a></li><li class="sidebar-sub-header"><a href="/lua/#findimage-targetimagepath-count-threshold-region-debug-method" class="sidebar-link">findImage(targetImagePath, count, threshold, region, debug, method)</a></li><li class="sidebar-sub-header"><a href="/lua/#screenshot-filepath-region" class="sidebar-link">screenshot(filePath, region)</a></li><li class="sidebar-sub-header"><a href="/lua/#apprun-appidentifier" class="sidebar-link">appRun(appIdentifier)</a></li><li class="sidebar-sub-header"><a href="/lua/#appkill-appidentifier" class="sidebar-link">appKill(appIdentifier)</a></li><li class="sidebar-sub-header"><a href="/lua/#appstate-appidentifier" class="sidebar-link">appState(appIdentifier)</a></li><li class="sidebar-sub-header"><a href="/lua/#rootdir" class="sidebar-link">rootDir()</a></li><li class="sidebar-sub-header"><a href="/lua/#currentdir" class="sidebar-link">currentDir()</a></li><li class="sidebar-sub-header"><a href="/lua/#botpath" class="sidebar-link">botPath()</a></li><li class="sidebar-sub-header"><a href="/lua/#usleep-microseconds" class="sidebar-link">usleep(microseconds)</a></li><li class="sidebar-sub-header"><a href="/lua/#log-content" class="sidebar-link">log(content)</a></li><li class="sidebar-sub-header"><a href="/lua/#alert-message" class="sidebar-link">alert(message)</a></li><li class="sidebar-sub-header"><a href="/lua/#toast-message-delay" class="sidebar-link">toast(message, delay)</a></li><li class="sidebar-sub-header"><a href="/lua/#vibrate" class="sidebar-link">vibrate()</a></li><li class="sidebar-sub-header"><a href="/lua/#playaudio-audiofile-times" class="sidebar-link">playAudio(audioFile, times)</a></li><li class="sidebar-sub-header"><a href="/lua/#stopaudio" class="sidebar-link">stopAudio()</a></li><li class="sidebar-sub-header"><a href="/lua/#getorientation" class="sidebar-link">getOrientation()</a></li><li class="sidebar-sub-header"><a href="/lua/#getscreenresolution" class="sidebar-link">getScreenResolution()</a></li><li class="sidebar-sub-header"><a href="/lua/#getsn" class="sidebar-link">getSN()</a></li><li class="sidebar-sub-header"><a href="/lua/#getversion" class="sidebar-link">getVersion()</a></li><li class="sidebar-sub-header"><a href="/lua/#frontmostappid" class="sidebar-link">frontMostAppId()</a></li><li class="sidebar-sub-header"><a href="/lua/#frontmostapporientation" class="sidebar-link">frontMostAppOrientation()</a></li><li class="sidebar-sub-header"><a href="/lua/#inttorgb-intcolor" class="sidebar-link">intToRgb(intColor)</a></li><li class="sidebar-sub-header"><a href="/lua/#rgbtoint-r-g-b" class="sidebar-link">rgbToInt(r, g, b)</a></li><li class="sidebar-sub-header"><a href="/lua/#copytext-text" class="sidebar-link">copyText(text)</a></li><li class="sidebar-sub-header"><a href="/lua/#cliptext" class="sidebar-link">clipText()</a></li><li class="sidebar-sub-header"><a href="/lua/#inputtext-text" class="sidebar-link">inputText(text)</a></li><li class="sidebar-sub-header"><a href="/lua/#dialog-controls-orientations" class="sidebar-link">dialog(controls, orientations)</a></li><li class="sidebar-sub-header"><a href="/lua/#cleardialogvalues-script" class="sidebar-link">clearDialogValues(script)</a></li><li class="sidebar-sub-header"><a href="/lua/#openurl-urlstring" class="sidebar-link">openURL(urlString)</a></li><li class="sidebar-sub-header"><a href="/lua/#islicensed" class="sidebar-link">isLicensed()</a></li><li class="sidebar-sub-header"><a href="/lua/#setautolaunch-scriptpath-on" class="sidebar-link">setAutoLaunch(scriptPath, on)</a></li><li class="sidebar-sub-header"><a href="/lua/#listautolaunch" class="sidebar-link">listAutoLaunch()</a></li><li class="sidebar-sub-header"><a href="/lua/#stop" class="sidebar-link">stop()</a></li><li class="sidebar-sub-header"><a href="/lua/#ocr-options" class="sidebar-link">ocr(options)</a></li><li class="sidebar-sub-header"><a href="/lua/#appinfo-appidentifier" class="sidebar-link">appInfo(appIdentifier)</a></li><li class="sidebar-sub-header"><a href="/lua/#settimer-scriptpath-firetime-repeat-interval" class="sidebar-link">setTimer(scriptPath, fireTime, repeat, interval)</a></li><li class="sidebar-sub-header"><a href="/lua/#removetimer-scriptpath" class="sidebar-link">removeTimer(scriptPath)</a></li><li class="sidebar-sub-header"><a href="/lua/#keepautotouchawake-keepawake" class="sidebar-link">keepAutoTouchAwake(keepAwake)</a></li><li class="sidebar-sub-header"><a href="/lua/#savetosystemalbum-filepath-albumname" class="sidebar-link">saveToSystemAlbum(filePath, albumName)</a></li><li class="sidebar-sub-header"><a href="/lua/#clearsystemalbum-albumname" class="sidebar-link">clearSystemAlbum(albumName)</a></li><li class="sidebar-sub-header"><a href="/lua/#execute-command" class="sidebar-link">execute(command)</a></li><li class="sidebar-sub-header"><a href="/lua/#getlocalip" class="sidebar-link">getLocalIP()</a></li></ul></li><li class="sidebar-sub-header"><a href="/lua/#constants" class="sidebar-link">Constants</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lua/#types-of-physical-keys" class="sidebar-link">Types of physical keys</a></li><li class="sidebar-sub-header"><a href="/lua/#types-of-dialog-controls" class="sidebar-link">Types of dialog controls</a></li><li class="sidebar-sub-header"><a href="/lua/#types-of-screen-orientations" class="sidebar-link">Types of screen orientations</a></li><li class="sidebar-sub-header"><a href="/lua/#types-of-ocr-method" class="sidebar-link">Types of ocr method</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js/" class="sidebar-heading clickable"><span>JavaScript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js/jsbridge" class="sidebar-heading clickable"><span>JSBridge</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/http-api" class="sidebar-heading clickable"><span>HTTP APIs</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/release-notes" class="sidebar-heading clickable"><span>Release Notes</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="lua-guide"><a href="#lua-guide" class="header-anchor">#</a> Lua Guide </h1> <p><code>Applicable to version 6.1.7 and above</code></p> <p>::: What is AutoTouch?</p> <ul><li>AutoTouch is a &quot;Macro&quot; tool used to record and playback human touching and pressing on the mobile device.</li> <li>It simulates touching and keys pressing.</li> <li>It runs Lua scripts.</li> <li>It provides several extended functions to achieve automation.</li> <li>It needs Jailbreak environment.
:::</li></ul> <hr> <h2 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h2> <h2 id="how-to-install"><a href="#how-to-install" class="header-anchor">#</a> How to install?</h2> <blockquote><ul><li>You can search and install AutoTouch in Cydia diredctly, it is released in BigBoss.</li> <li>You can also add the official repo: <a href="https://apt.autotouch.net" target="_blank" rel="noopener noreferrer">https://apt.autotouch.net<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to Cydia and install AutoTouch there.</li> <li>There is also a beta repo: <a href="https://beta.autotouch.net" target="_blank" rel="noopener noreferrer">https://beta.autotouch.net<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> which contains more fresh but not so stable packages.</li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-use-activator"><a href="#how-to-use-activator" class="header-anchor">#</a> How to use Activator?</h2> <blockquote><ul><li>By default AutoTouch uses volume decrease button holding or pressing to control everything, untill you install Activator by hand.</li> <li>Add official repo:<a href="http://rpetri.ch/repo/" target="_blank" rel="noopener noreferrer">http://rpetri.ch/repo/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to Cydia.</li> <li>Install Activator form that repo.</li> <li>AutoTouch will automatically detect Activator and use it as the default control method.</li> <li>Customize the actions you want to use to control AutoTouch by Activator.</li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-record"><a href="#how-to-record" class="header-anchor">#</a> How to record?</h2> <blockquote><ul><li>At the interface where you want to start recording , hold volume decrease button (or other main control action set with Activator by youself, this point will not be repeated below) to call out the control panel.
<img src="https://i.imgur.com/ELcGi3A.png" alt="Control Panel"></li> <li>Press the &quot;Record&quot; button on the control panel to start recording.</li> <li>It will record all your touching and key pressing to a script until you stop it.</li> <li>Hold on volume decrease button (or other Activator action) again to stop the recording.</li> <li>Then, there will be a Lua script named with create time in the script list. You can edit, rename or playback it.</li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-play-script"><a href="#how-to-play-script" class="header-anchor">#</a> How to play script?</h2> <blockquote><ul><li>Hold on volume decrease button to call out the control panel.</li> <li>Click the script you want to run.</li> <li>There is a play options button on the control panel, it will ask for options if you turn on it.</li> <li>There is a H button means hold mode, it will enter hold mode if you turn on it. In hold mode, every time your tap the volume down button(or action you set in Activator) it will start playing.</li> <li>Hold volume decrease button to forcedly stop the playing, or quit the <code>Hold mode</code> status.</li> <li>Long pressing volume down button will stop the playing forcely.</li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-take-screenshot"><a href="#how-to-take-screenshot" class="header-anchor">#</a> How to take screenshot?</h2> <blockquote><ul><li>Press &quot;Snap&quot; button on the control panel to take screenshot, or just use iOS's screenshot method with which you are able to edit it directly.</li> <li>The screenshot will be saved as PNG image into &quot;AutoTouch&quot; album of iOS Photo Library, then it might be used to speficy parameters of getColors, findColors or findImage.</li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-write-a-script"><a href="#how-to-write-a-script" class="header-anchor">#</a> How to write a script?</h2> <blockquote><ul><li>Press &quot;+&quot; button on top right of the local script list, choose &quot;Create a script&quot; to open the script editor.</li> <li>Write the code there.</li> <li>Press &quot;save&quot; button to save the script.</li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-use-the-function-helper-while-script-coding"><a href="#how-to-use-the-function-helper-while-script-coding" class="header-anchor">#</a> How to use the &quot;Function Helper&quot; while script coding?</h2> <blockquote><ul><li>There are &quot;Extensions&quot;, &quot;Indent&quot; and &quot;Statements&quot; buttons on top of the keyboard in the script editor. You can conveniently insert extended functions, indent or common statement of Lua Language.</li> <li>Press the &quot;Extension&quot; button to present the extended functions list, click a function to insert into the script diretly.</li> <li>Press the &quot;HELPER&quot; button on the function list, it will help you to determine the coordinates, colors or key flags for the functions.<br> <img src="https://i.imgur.com/ng2QWrz.png" alt="Function Helper"></li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-write-and-manage-scripts-on-the-computer"><a href="#how-to-write-and-manage-scripts-on-the-computer" class="header-anchor">#</a> How to write and manage scripts on the computer?</h2> <blockquote><ul><li>Turn on  Web Server at AutoTouch setting and visit the told URL from browser on computer. Manage scripts there.</li> <li>You can also turn on WebDAV Server and connect the told address with  WebDAV client on computer.</li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-use-package-to-orgainize-the-script-project"><a href="#how-to-use-package-to-orgainize-the-script-project" class="header-anchor">#</a> How to use Package to orgainize the script project?</h2> <blockquote><ul><li>You can create a Package as script project to contain different scripts, files and images etc. Package must have a main.lua file as the entrance of the execution. A Package in fact is a directory named with .at extension such as xxx.at.</li> <li>Package can be encrypted to xxx.ate which is also execuate-able.</li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-encrypt-the-scripts"><a href="#how-to-encrypt-the-scripts" class="header-anchor">#</a> How to encrypt the scripts?</h2> <blockquote><ul><li>Tap accessory button of a package or script in the local script list, choose &quot;Encrypt&quot;.</li> <li>Input the encryption password. Or leave it blank if you don't want one.</li> <li>Press &quot;Confirm&quot; to complete the encryption. A encrypted file with the same name but ended with .lua.e or .ate will be generated in the script list then.</li> <li>You can play the encrypted scripts.</li></ul></blockquote> <p><a href="#usage">Top</a></p> <h2 id="how-to-buy-autotouch-license"><a href="#how-to-buy-autotouch-license" class="header-anchor">#</a> How to buy AutoTouch license?</h2> <blockquote><ul><li>Tap License on AutoTouch settings to enter the license management view.</li> <li>Read the Instructions and do be aware that AutoTouch license has ONE YEAR validity period!</li> <li>It will automatically activate current device after the payment if you use PayPal (If failed just follow the next step).</li> <li>You can query bought licenses with your PayPal ID email, or any activated device SN.</li> <li>You can activate another device with a license after you query it out.</li> <li>You can also &quot;Activate Current Device&quot; diretly with a license key bought from other devices.</li> <li>You should make sure it shows &quot;License Downloaded&quot; at top-right of the License view after it's activated.</li> <li>It allows only one time activation a day, you may do it again after 24 hours if you need.
<img src="https://i.imgur.com/CB0Fnfm.jpg" alt="License View"></li></ul></blockquote> <p><a href="#usage">Top</a></p> <h1 id="script"><a href="#script" class="header-anchor">#</a> Script</h1> <h2 id="basis"><a href="#basis" class="header-anchor">#</a> Basis</h2> <p>You can learn how to use Lua language from here:《<a href="http://www.lua.org/manual/5.3/" target="_blank" rel="noopener noreferrer">Lua Official Reference Manual<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>》</p> <p><a href="#usage">Top</a></p> <h2 id="develop-tool"><a href="#develop-tool" class="header-anchor">#</a> Develop Tool</h2> <p><a href="http://luastudio.net/" target="_blank" rel="noopener noreferrer">LuaStudio<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is aprofessional development environment for debugging Lua script in your applications. It's familiar and fast and you'll wonder how you ever worked without it.</p> <p><a href="#usage">Top</a></p> <h2 id="coordinate-size-and-orientation-system"><a href="#coordinate-size-and-orientation-system" class="header-anchor">#</a> Coordinate, Size and Orientation System</h2> <p>AutoTouch uses pixel based Native Resolution as the coordinate and size system. Resolutions of different iOS devices are <a href="https://developer.apple.com/library/archive/documentation/DeviceInformation/Reference/iOSDeviceCompatibility/Displays/Displays.html" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, for example, screen size of iPhone X is 1125 x 2436.</p> <p>Origin point (0, 0) is alwasy at left-top of the <strong>Application Interface</strong>, regardless of the device orientation. Consider only the App interface while using these functions: touchDown,touchMove,touchUp,getColors,findColors,findImage.</p> <p><img src="https://i.imgur.com/imDVXXB.png" alt="For example"></p> <p><a href="#usage">Top</a></p> <h2 id="extension-libraries"><a href="#extension-libraries" class="header-anchor">#</a> Extension Libraries</h2> <blockquote><p>AutoTouch has some extension libraries built in, while you can also add extension libraries by yourself, just put <code>.so</code> files at <code>/usr/local/lib/lua/5.3</code> and <code>.lua</code> files at <code>/var/mobile/Library/AutoTouch/Library/LuaLibraries</code>.<br> <strong>ATTENSION:</strong> <strong>DO NOT</strong> use script filename same as the libraries' name, such as <code>lcurl</code>, <code>lfs</code>, <code>lsqlite3</code>.</p></blockquote> <p><a href="#usage">Top</a></p> <h3 id="luacurl"><a href="#luacurl" class="header-anchor">#</a> LuaCURL</h3> <blockquote><p>curl is used in command lines or scripts to transfer data. It is also used in cars, television sets, routers, printers, audio equipment, mobile phones, tablets, settop boxes, media players and is the internet transfer backbone for thousands of software applications affecting billions of humans daily.<br>
It supports DICT, FILE, FTP, FTPS, Gopher, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, POP3, POP3S, RTMP, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, Telnet and TFTP. curl supports SSL certificates, HTTP POST, HTTP PUT, FTP uploading, HTTP form based upload, proxies, HTTP/2, cookies, user+password authentication (Basic, Plain, Digest, CRAM-MD5, NTLM, Negotiate and Kerberos), file transfer resume, proxy tunneling and more.<br> <a href="https://github.com/Lua-cURL/Lua-cURLv3" target="_blank" rel="noopener noreferrer">Learn More<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><code>Examples:</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- HTTP Get</span>
<span class="token keyword">local</span> curl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lcurl'</span><span class="token punctuation">)</span>
curl<span class="token punctuation">.</span><span class="token function">easy</span><span class="token punctuation">{</span>
    url <span class="token operator">=</span> <span class="token string">'http://httpbin.org/get'</span><span class="token punctuation">,</span>
    httpheader <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;X-Test-Header1: Header-Data1&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;X-Test-Header2: Header-Data2&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    writefunction <span class="token operator">=</span> alert <span class="token comment">-- use io.stderr:write()</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">:</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">:</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">-- HTTP Post</span>
curl<span class="token punctuation">.</span><span class="token function">easy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">:</span><span class="token function">setopt_url</span><span class="token punctuation">(</span><span class="token string">'http://posttestserver.com/post.php'</span><span class="token punctuation">)</span>
  <span class="token punctuation">:</span><span class="token function">setopt_writefunction</span><span class="token punctuation">(</span>io<span class="token punctuation">.</span>write<span class="token punctuation">)</span>
  <span class="token punctuation">:</span><span class="token function">setopt_httppost</span><span class="token punctuation">(</span>curl<span class="token punctuation">.</span><span class="token function">form</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Lua-cURL guarantee that form will be alive</span>
    <span class="token punctuation">:</span><span class="token function">add_content</span><span class="token punctuation">(</span><span class="token string">&quot;test_content&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;some data&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;MyHeader: SomeValue&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">:</span><span class="token function">add_buffer</span><span class="token punctuation">(</span><span class="token string">&quot;test_file&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;filename&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text data&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;Description: my file description&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">:</span><span class="token function">add_file</span><span class="token punctuation">(</span><span class="token string">&quot;test_file2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;BuildLog.htm&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/octet-stream&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;Description: my file description&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">:</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">:</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="luasocket"><a href="#luasocket" class="header-anchor">#</a> LuaSocket</h3> <blockquote><p>LuaSocket is a Lua extension library which supported <a href="http://w3.impa.br/~diego/software/luasocket/introduction.html#tcp" target="_blank" rel="noopener noreferrer">TCP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://w3.impa.br/~diego/software/luasocket/introduction.html#udp" target="_blank" rel="noopener noreferrer">UDP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://w3.impa.br/~diego/software/luasocket/smtp.html" target="_blank" rel="noopener noreferrer">SMTP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://w3.impa.br/~diego/software/luasocket/http.html" target="_blank" rel="noopener noreferrer">HTTP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://w3.impa.br/~diego/software/luasocket/ftp.html" target="_blank" rel="noopener noreferrer">FTP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> protocols. Learn how to use it from the <a href="http://w3.impa.br/~diego/software/luasocket/introduction.html" target="_blank" rel="noopener noreferrer">Learn More<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></blockquote> <p><a href="#usage">Top</a></p> <h3 id="luasec"><a href="#luasec" class="header-anchor">#</a> LuaSec</h3> <blockquote><p>LuaSec is a binding for OpenSSL library to provide TLS/SSL communication. It takes an already established TCP connection and creates a secure session between the peers.<a href="https://github.com/brunoos/luasec/wiki" target="_blank" rel="noopener noreferrer">Learn More<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><a href="#usage">Top</a></p> <h3 id="luasqlite3"><a href="#luasqlite3" class="header-anchor">#</a> LuaSqlite3</h3> <blockquote><p>LuaSQLite 3 is a thin wrapper around the public domain SQLite3 database engine. <a href="http://lua.sqlite.org/index.cgi/doc/tip/doc/lsqlite3.wiki" target="_blank" rel="noopener noreferrer">Learn More<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><a href="#usage">Top</a></p> <h3 id="json-lua"><a href="#json-lua" class="header-anchor">#</a> json.lua</h3> <blockquote><p>json.lua provides operation methods on json.
<a href="https://github.com/rxi/json.lua" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/rxi/json.lua/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">LICENSE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><code>Usage</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> json <span class="token operator">=</span> require <span class="token string">&quot;json&quot;</span>
<span class="token keyword">local</span> jsonString <span class="token operator">=</span>json<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">-- Returns '[1,2,3,{&quot;x&quot;:10}]'</span>
<span class="token keyword">local</span> luaTable <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token string">'[1,2,3,{&quot;x&quot;:10}]'</span><span class="token punctuation">)</span> <span class="token comment">-- Returns { 1, 2, 3, { x = 10 } }</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="plist"><a href="#plist" class="header-anchor">#</a> Plist</h3> <blockquote><p>Plist library provides a batch of methods to operate on plist files.</p></blockquote> <p><code>Usage</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> plist <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;plist&quot;</span><span class="token punctuation">)</span>

<span class="token comment">-- Read a plist file, return it as a lua table, return nil if failed.</span>
<span class="token keyword">local</span> luaTable <span class="token operator">=</span> plist<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>plistFilePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Write a lua table as a plist into a file, the foramt parameter specifis &quot;xml&quot;, &quot;binary&quot; you want to write with.</span>
<span class="token keyword">local</span> done <span class="token operator">=</span> plist<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>luaTable<span class="token punctuation">,</span> plistFilePath<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Load a plist string to lua table.</span>
<span class="token keyword">local</span> luaTable <span class="token operator">=</span> plist<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>plistString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Dump a lua table to plist data with format &quot;xml&quot; or &quot;binary&quot;</span>
<span class="token keyword">local</span> plistData <span class="token operator">=</span> plist<span class="token punctuation">.</span><span class="token function">dump</span><span class="token punctuation">(</span>luaTable<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="penlight"><a href="#penlight" class="header-anchor">#</a> Penlight</h3> <blockquote><p>A set of pure Lua libraries focusing on input data handling (such as reading configuration files), functional programming (such as map, reduce, placeholder expressions,etc), and OS path management.<br> <a href="https://github.com/stevedonovan/Penlight" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="http://stevedonovan.github.io/Penlight/api/index.html" target="_blank" rel="noopener noreferrer">Document<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/stevedonovan/Penlight/blob/master/LICENSE.md" target="_blank" rel="noopener noreferrer">LICENSE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>It has plenty of modules:</p> <p>Paths, Files and Directories</p> <ul><li><code>path</code>: queries like <code>isdir</code>,<code>isfile</code>,<code>exists</code>, splitting paths like <code>dirname</code> and <code>basename</code></li> <li><code>dir</code>: listing files in directories (<code>getfiles</code>,<code>getallfiles</code>) and creating/removing directory paths</li> <li><code>file</code>: <code>copy</code>,<code>move</code>; read/write contents with <code>read</code> and <code>write</code></li></ul> <p>Application Support</p> <ul><li><code>app</code>: <code>require_here</code> to rebase <code>require</code> to work with main script path; simple argument parsing <code>parse_args</code></li> <li><code>lapp</code>: sophisticated usage-text-driven argument parsing for applications</li> <li><code>config</code>: flexibly read Unix config files and Windows INI files</li> <li><code>strict</code>: check for undefined global variables - can use <code>strict.module</code> for modules</li> <li><code>utils</code>,<code>compat</code>: Penlight support for unified Lua 5.1/5.2 codebases</li> <li><code>types</code>: predicates like <code>is_callable</code> and <code>is_integer</code>; extended <code>type</code> function.</li></ul> <p>Extra String Operations</p> <ul><li><code>utils</code>: can split a string with a delimiter using <code>utils.split</code></li> <li><code>stringx</code>: extended string functions covering the Python <code>string</code> type</li> <li><code>stringio</code>:  open strings for reading, and creating strings using standard Lua IO methods</li> <li><code>lexer</code>:  lexical scanner for splitting text into tokens; special cases for Lua and C</li> <li><code>text</code>:  indenting and dedenting text, wrapping paragraphs; optionally make <code>%</code> work as in Python</li> <li><code>template</code>:  small but powerful template expansion engine</li> <li><code>sip</code>:  Simple Input Patterns - higher-level string patterns for parsing text</li></ul> <p>Extra Table Operations</p> <ul><li><code>tablex</code>: copying, comparing and mapping over</li> <li><code>pretty</code>: pretty-printing Lua tables, and various safe ways to load Lua as data</li> <li><code>List</code>: implementation of Python 'list' type - slices, concatenation and partitioning</li> <li><code>Map</code>, <code>Set</code>, <code>OrderedMap</code>: classes for specialized kinds of tables</li> <li><code>data</code>: reading tabular data into 2D arrays and efficient queries</li> <li><code>array2d</code>: operations on 2D arrays</li> <li><code>permute</code>: generate permutations</li></ul> <p>Iterators, OOP and Functional</p> <ul><li><code>seq</code>:  working with iterator pipelines; collecting iterators as tables</li> <li><code>class</code>: a simple reusable class framework</li> <li><code>func</code>: symbolic manipulation of expressions and lambda expressions</li> <li><code>utils</code>: <code>utils.string_lambda</code> converts short strings like <code>|x| x^2</code> into functions</li> <li><code>comprehension</code>: list comprehensions: <code>C'x for x=1,4'()=={1,2,3,4}</code></li></ul> <p><a href="#usage">Top</a></p> <h3 id="luafilesystem"><a href="#luafilesystem" class="header-anchor">#</a> LuaFileSystem</h3> <blockquote><p>LuaFileSystem is a Lua library developed to complement the set of functions related to file systems offered by the standard Lua distribution.<br>
LuaFileSystem offers a portable way to access the underlying directory structure and file attributes.<a href="https://keplerproject.github.io/luafilesystem/index.html" target="_blank" rel="noopener noreferrer">Learn More<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><a href="#usage">Top</a></p> <h3 id="websocket"><a href="#websocket" class="header-anchor">#</a> WebSocket</h3> <blockquote><p>This module provides Lua modules for <a href="http://tools.ietf.org/html/rfc6455" target="_blank" rel="noopener noreferrer">Websocket Version 13<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> conformant clients and servers.</p></blockquote> <p><a href="https://github.com/lipp/lua-websockets" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/lipp/lua-websockets/blob/master/COPYRIGHT" target="_blank" rel="noopener noreferrer">LICENSE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/lipp/lua-websockets/tree/master/examples" target="_blank" rel="noopener noreferrer">Examples<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>Usage</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Client</span>
<span class="token comment">-- connects to a echo websocket server running a localhost:8080</span>
<span class="token comment">-- sends a strong every second and prints the echoed messages</span>
<span class="token comment">-- to stdout</span>

<span class="token keyword">local</span> ev <span class="token operator">=</span> require<span class="token string">'ev'</span>
<span class="token keyword">local</span> ws_client <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'websocket.client'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ev</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

ws_client<span class="token punctuation">:</span><span class="token function">on_open</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'connected'</span><span class="token punctuation">)</span>
  <span class="token keyword">end</span><span class="token punctuation">)</span>

ws_client<span class="token punctuation">:</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'ws://echo.websocket.org'</span><span class="token punctuation">,</span><span class="token string">'echo'</span><span class="token punctuation">)</span>

ws_client<span class="token punctuation">:</span><span class="token function">on_message</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>ws<span class="token punctuation">,</span> msg<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'received'</span><span class="token punctuation">,</span>msg<span class="token punctuation">)</span>
  <span class="token keyword">end</span><span class="token punctuation">)</span>

<span class="token keyword">local</span> i <span class="token operator">=</span> <span class="token number">0</span>

ev<span class="token punctuation">.</span>Timer<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>
    ws_client<span class="token punctuation">:</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello '</span><span class="token operator">..</span>i<span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">start</span><span class="token punctuation">(</span>ev<span class="token punctuation">.</span>Loop<span class="token punctuation">.</span>default<span class="token punctuation">)</span>

ev<span class="token punctuation">.</span>Loop<span class="token punctuation">.</span>default<span class="token punctuation">:</span><span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h2 id="extension-functions"><a href="#extension-functions" class="header-anchor">#</a> Extension Functions</h2> <p>Extension functions are used to extend Lua language. Thus, the device can simulate some human abilities of operating the mobile phone. Moreover, extension functions also support functions including: screenshot, color searching, color matching, and picture matching.</p> <p><a href="#usage">Top</a></p> <h3 id="touchdown-id-x-y"><a href="#touchdown-id-x-y" class="header-anchor">#</a> touchDown(id, x, y)</h3> <blockquote><p>Press the coordinate (x,y) on the screen.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>id</td> <td style="text-align:center;">Integer</td> <td>Finger ID. is used to mark a finger in single-touch or multi-touch.</td></tr> <tr><td>x</td> <td style="text-align:center;">Float</td> <td>x-coordinate on the screen</td></tr> <tr><td>y</td> <td style="text-align:center;">Float</td> <td>y-coordinate on the screen</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Press by one finger at coordinate (100,200).</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">-- Press by three fingers at three locations on the screen.</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Implement a tap function</span>
<span class="token keyword">function</span> <span class="token function">tap</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
    <span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">16000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">touchUp</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Tap at (100, 200)</span>
<span class="token function">tap</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="touchmove-id-x-y"><a href="#touchmove-id-x-y" class="header-anchor">#</a> touchMove(id, x, y)</h3> <blockquote><p>Move the finger to coordinate (x,y).</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>id</td> <td style="text-align:center;">Integer</td> <td>Finger ID. is used to mark a finger in single-touch or multi-touch.</td></tr> <tr><td>x</td> <td style="text-align:center;">Float</td> <td>x-coordinate on the screen</td></tr> <tr><td>y</td> <td style="text-align:center;">Float</td> <td>y-coordinate on the screen</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Press by one finger at coordinate (100,200) and move the finger to coordinate (200,200).</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">16000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchMove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Press by three fingers at three locations on the screen and move to new location.</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">16000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchMove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchMove</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchMove</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="touchup-id-x-y"><a href="#touchup-id-x-y" class="header-anchor">#</a> touchUp(id, x, y)</h3> <blockquote><p>Lift the finger from coordinate (x,y)</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>id</td> <td style="text-align:center;">Integer</td> <td>Finger ID. is used to mark a finger in single-touch or multi-touch.</td></tr> <tr><td>x</td> <td style="text-align:center;">Float</td> <td>x-coordinate on the screen</td></tr> <tr><td>y</td> <td style="text-align:center;">Float</td> <td>y-coordinate on the screen</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Click the screen once by one finger at coordinate (100,200).</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">16000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchUp</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Press by three fingers at three locations on the screen, move to new location, and then lift the finger.</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">16000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchMove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchMove</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchMove</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">16000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchUp</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchUp</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">touchUp</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="keydown-keytype"><a href="#keydown-keytype" class="header-anchor">#</a> keyDown(keyType)</h3> <blockquote><p>Simulate the pressing of physical key.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>keyType</td> <td style="text-align:center;">Integer</td> <td>Physical key identification. Now you can use <a href="#types-of-physical-keys">these physical keys</a>.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Simulate the pressing of Home Key.</span>
<span class="token function">keyDown</span><span class="token punctuation">(</span>KEY_TYPE<span class="token punctuation">.</span>HOME_BUTTON<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- How to simulate a key pressing?</span>
<span class="token keyword">function</span> <span class="token function">keyPress</span><span class="token punctuation">(</span>keyType<span class="token punctuation">)</span>
    <span class="token function">keyDown</span><span class="token punctuation">(</span>keyType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">keyUp</span><span class="token punctuation">(</span>keyType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
<span class="token function">keyPress</span><span class="token punctuation">(</span>KEY_TYPE<span class="token punctuation">.</span>HOME_BUTTON<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- How to simulate a screen lock function?</span>
<span class="token keyword">function</span> <span class="token function">lockScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">keyDown</span><span class="token punctuation">(</span>KEY_TYPE<span class="token punctuation">.</span>POWER_BUTTON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">keyUp</span><span class="token punctuation">(</span>KEY_TYPE<span class="token punctuation">.</span>POWER_BUTTON<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- How to simulate a screen unlock function?</span>
<span class="token keyword">function</span> <span class="token function">unlockScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">keyDown</span><span class="token punctuation">(</span>KEY_TYPE<span class="token punctuation">.</span>POWER_BUTTON<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">keyUp</span><span class="token punctuation">(</span>KEY_TYPE<span class="token punctuation">.</span>POWER_BUTTON<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">local</span> w<span class="token punctuation">,</span> h <span class="token operator">=</span> <span class="token function">getScreenResolution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">local</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">local</span> gap <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">;</span>
    <span class="token function">touchDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> x <span class="token operator">&lt;</span> w <span class="token keyword">do</span>
        x <span class="token operator">=</span> x <span class="token operator">+</span> gap<span class="token punctuation">;</span>
        <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">16000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">touchMove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
    <span class="token function">touchUp</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="keyup-keytype"><a href="#keyup-keytype" class="header-anchor">#</a> keyUp(keyType)</h3> <blockquote><p>Simulate the lifting of physical key.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>keyType</td> <td style="text-align:center;">Integer</td> <td>Physical key identification. Now you can use <a href="#types-of-physical-keys">these physical keys</a>.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Simulate the action of pressing and lifting Home Key.</span>
<span class="token function">keyDown</span><span class="token punctuation">(</span>KEY_TYPE<span class="token punctuation">.</span>HOME_BUTTON<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">keyUp</span><span class="token punctuation">(</span>KEY_TYPE<span class="token punctuation">.</span>HOME_BUTTON<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="getcolor-x-y"><a href="#getcolor-x-y" class="header-anchor">#</a> getColor(x, y)</h3> <blockquote><p>Get the color value of the pixel point of the specified coordinate on current screen.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>x</td> <td style="text-align:center;">Float</td> <td>x-coordinate on the screen</td></tr> <tr><td>y</td> <td style="text-align:center;">Float</td> <td>y-coordinate on the screen</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>color</td> <td style="text-align:center;">Integer</td> <td>Integer color value of the pixel point</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> color <span class="token operator">=</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Pixel color is :%d&quot;</span><span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">-- Pop up color: 16777215</span>

<span class="token comment">-- Keep gettting color of a location until it matches a specify color</span>
<span class="token keyword">local</span> color
<span class="token keyword">repeat</span>
   color <span class="token operator">=</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
   <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">50000</span><span class="token punctuation">)</span> <span class="token comment">-- Wait a while</span>
<span class="token keyword">until</span><span class="token punctuation">(</span> color <span class="token operator">==</span> <span class="token number">123456</span> <span class="token punctuation">)</span>
<span class="token comment">-- Continue to do what's next</span>

</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="getcolors-locations"><a href="#getcolors-locations" class="header-anchor">#</a> getColors(locations)</h3> <blockquote><p>Get the color values of the pixel points of the specified coordinates on current screen.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>locations</td> <td style="text-align:center;">table</td> <td>A grouo of coordinates, just as { {x1,y1}, {x2,y2}, {x3,y4} }</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>colors</td> <td style="text-align:center;">table</td> <td>Colors gotten with corresponding order.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">getColors</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Gotten color:%d&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="findcolor-color-count-region-debug-righttoleft-bottomtotop"><a href="#findcolor-color-count-region-debug-righttoleft-bottomtotop" class="header-anchor">#</a> findColor(color, count, region, debug, rightToLeft, bottomToTop)</h3> <blockquote><p>Search the coordinates of the pixel points matching the specified color on current screen.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>color</td> <td style="text-align:center;">Integer</td> <td>Matched color value.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr> <tr><td>count</td> <td style="text-align:center;">Integer</td> <td>The number refers to how many matched pixel points is found at most. 0 is default setting, which shows all matching points are found. 1 refers to only the first matching pixel point is found. 2 refers to only the first two pixel points are found. The less the number is, the faster the speed is.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;">0</td></tr> <tr><td>region</td> <td style="text-align:center;">table</td> <td>You only search the result in the specified area. This area is the table type including four values {x, y, width, height}. The four values respectively represent the coordinate x, coordinate y, width, and height of the rectangular area. {100,100,200,200} is an example. If you do not want to specify the area, just input nil.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;">nil</td></tr> <tr><td>debug</td> <td style="text-align:center;">boolean</td> <td>If pass debug=true, it will produce a image ends with &quot;-Debug.PNG&quot; marked the matching areas.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">false</td></tr> <tr><td>rightToLeft</td> <td style="text-align:center;">boolean</td> <td>Search direction, default is left to right.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">false</td></tr> <tr><td>bottomToTop</td> <td style="text-align:center;">boolean</td> <td>Search direction, default is top to buttom.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">false</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>locations</td> <td style="text-align:center;">table</td> <td>Coordinates of matched pixel points. For example: { {x1, y1}, {x2, y2}, ... }</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Example:</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findColor</span><span class="token punctuation">(</span><span class="token number">0x0000ff</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found pixel: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example: Search from right to left, from bottom to top</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findColor</span><span class="token punctuation">(</span><span class="token number">0x0000ff</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found rect at: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example:</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findColor</span><span class="token punctuation">(</span><span class="token number">0x00ddff</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found pixel: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example:</span>
<span class="token keyword">local</span> region <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findColor</span><span class="token punctuation">(</span><span class="token number">0x00ddff</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> region<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found pixel: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example:</span>
<span class="token comment">-- Keep finding a speficied color until it's found.</span>
<span class="token keyword">local</span> locations
<span class="token keyword">repeat</span>
   <span class="token keyword">local</span> locations <span class="token operator">=</span> <span class="token function">findColor</span><span class="token punctuation">(</span><span class="token number">0x0000ff</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">50000</span><span class="token punctuation">)</span> <span class="token comment">-- Wait a while</span>
<span class="token keyword">until</span><span class="token punctuation">(</span><span class="token operator">#</span>locations <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">-- Log the locations if found</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>locations<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found pixel: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre></div><p><code>Internal Implementation</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">function</span> <span class="token function">findColor</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> count<span class="token punctuation">,</span> region<span class="token punctuation">,</span> debug<span class="token punctuation">,</span> rightToLeft<span class="token punctuation">,</span> bottomToTop<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">findColors</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> count<span class="token punctuation">,</span> region<span class="token punctuation">,</span> debug<span class="token punctuation">,</span> rightToLeft<span class="token punctuation">,</span> bottomToTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="findcolors-colors-count-region-debug-righttoleft-bottomtotop"><a href="#findcolors-colors-count-region-debug-righttoleft-bottomtotop" class="header-anchor">#</a> findColors(colors, count, region, debug, rightToLeft, bottomToTop)</h3> <blockquote><p>Search all rectangular areas matching &quot;specified color and their corresponding location and return the coordinate of the pixel point matching the first color in the rectangular area. This function has the search efficiency and availability far beyond findImage. For example, you need not match the whole key picture, but only match the anchors' color and their corresponding location on the key. You can specify the number of the results by count parameter. 0 refers to all, 1 refers to the first one, and 2 refers to the first tow. region parameter can specify the search area, which is the table type {x,y,width, height}. You only input nil if no data is specified.<br>
This function can use the &quot;HELPER&quot; tool in the &quot;Extension Function&quot; of the script-editing interface to select the anchors' colors from the screenshot and get their corresponding location to the function's parameter automatically.<br>
The coordinate of the pixel point pointed by the arrow is the coordinate of the return value.</p></blockquote> <p><img src="https://i.imgur.com/ODEtwAz.png" alt="IMG_0361.PNG-101.9kB"></p> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>colors</td> <td style="text-align:center;">table</td> <td>Include some color and their corresponding location, such as:{ {0x00ddff,0,0}, {0x00eeff,10,10}, {0x0000ff,0,20} }. The small table in the big table includes 3 values: the first is the color value. The second and the third are the corresponding locations of the colors to the first color. The corresponding location of the first color's table is always (0,0). {0x00ddff,0,0} is an example. The location values of the successive colors are their locations corresponding to the first color. The matched rectangular area can be found on the screen upon these colors and corresponding location relation.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr> <tr><td>count</td> <td style="text-align:center;">Integer</td> <td>The number refers to how many matched pixel points is found at most. 0 is default setting, which shows all matching points are found. 1 refers to only the first matching pixel point is found. 2 refers to only the first two pixel points are found. The less the number is, the faster the speed is.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;">0</td></tr> <tr><td>region</td> <td style="text-align:center;">table</td> <td>You only search the result in the specified area. This area is the table type including four values {x, y, width, height}. The four values respectively represent the coordinate x, coordinate y, width, and height of the rectangular area. {100,100,200,200} is an example. If you do not want to specify the area, just input nil.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;">nil</td></tr> <tr><td>debug</td> <td style="text-align:center;">boolean</td> <td>If pass debug=true, it will produce a image ends with &quot;-Debug.PNG&quot; marked the matching areas.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">false</td></tr> <tr><td>rightToLeft</td> <td style="text-align:center;">boolean</td> <td>Search direction, default is left to right.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">false</td></tr> <tr><td>bottomToTop</td> <td style="text-align:center;">boolean</td> <td>Search direction, default is top to buttom.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">false</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>locations</td> <td style="text-align:center;">table</td> <td>The coordinate of the first color matched in the found rectangular area, including { {x1, y1}, {x2, y2}, ...}</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Example:</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findColors</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">{</span><span class="token number">0x00ddff</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0x00eeff</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0x0000ff</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found rect at: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example: Search from right to left, from bottom to top</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findColors</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">{</span><span class="token number">0x00ddff</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0x00eeff</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0x0000ff</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found rect at: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example:</span>
<span class="token keyword">local</span> colors <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">{</span><span class="token number">0x00ddff</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0x00eeff</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0x0000ff</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findColors</span><span class="token punctuation">(</span>colors<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found rect at: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example:</span>
<span class="token keyword">local</span> colors <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">{</span><span class="token number">0x00ddff</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0x00eeff</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0x0000ff</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">local</span> region <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findColors</span><span class="token punctuation">(</span>colors<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> region<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found rect at: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="findimage-targetimagepath-count-threshold-region-debug-method"><a href="#findimage-targetimagepath-count-threshold-region-debug-method" class="header-anchor">#</a> findImage(targetImagePath, count, threshold, region, debug, method)</h3> <blockquote><p>Search areas matching the specified image on current screen and return the center coordinates. It supports any format of target images. It also provides a debug mode which will produce an image marked the matching areas.</p></blockquote> <p><img src="https://i.imgur.com/9eyFOu7.png" alt="Imgur"></p> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>targetImagePath</td> <td style="text-align:center;">String</td> <td>Path of the target image to match, for example: &quot;images/gold.PNG&quot;. Any image with valid format are supported. If the path starts with character &quot;/&quot;, it will be treated as absolute path, if not, it will be treated as relative path. Most of the time we use relative path, speficially for .ate package.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr> <tr><td>count</td> <td style="text-align:center;">integer</td> <td>How many areas to find. Pass 0 or nil if you don't want to speficy the count.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">0</td></tr> <tr><td>threshold</td> <td style="text-align:center;">float</td> <td>Searching precision, maximum value is 1 means totally the same, minimum value is -1 means non same, default is 0.9, usually 0.99 is good. Pass nil if you just want to use the default value.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">0.9</td></tr> <tr><td>region</td> <td style="text-align:center;">table</td> <td>Do searching in which region. Pass nil if you just want to use the default value.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">Whole screen</td></tr> <tr><td>debug</td> <td style="text-align:center;">boolean</td> <td>If pass debug=true, it will produce a image ends with &quot;-Debug.PNG&quot; marked the matching areas.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">false</td></tr> <tr><td>method</td> <td style="text-align:center;">integer</td> <td>Searching method, default is 1, pass 2 if you want to use the more intelligent method which is able to cover size scale, orientation, color changed, it will be a little slower than method 1.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">1</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>center locations</td> <td style="text-align:center;">table</td> <td>Center coordinates of the matching areas.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Example:</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findImage</span><span class="token punctuation">(</span><span class="token string">&quot;images/Gold.PNG&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0.99</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found rect at: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example:</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findImage</span><span class="token punctuation">(</span><span class="token string">&quot;images/Gold.PNG&quot;</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found rect at: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example:</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findImage</span><span class="token punctuation">(</span><span class="token string">&quot;images/Gold.PNG&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found rect at: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example:</span>
<span class="token keyword">local</span> imagePath <span class="token operator">=</span> <span class="token string">&quot;images/spirit.PNG&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">local</span> region <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findImage</span><span class="token punctuation">(</span>imagePath<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0.98</span><span class="token punctuation">,</span> region<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token keyword">local</span> x <span class="token operator">=</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">=</span> v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Found rect at: x:%f, y:%f&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">-- Click the found location once.</span>
    <span class="token function">tap</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">16000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- Example:</span>
<span class="token keyword">local</span> imagePath <span class="token operator">=</span> <span class="token string">&quot;images/spirit.PNG&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">local</span> region <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">-- Use method 2 to find image</span>
<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">findImage</span><span class="token punctuation">(</span>imagePath<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0.98</span><span class="token punctuation">,</span> region<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="screenshot-filepath-region"><a href="#screenshot-filepath-region" class="header-anchor">#</a> screenshot(filePath, region)</h3> <blockquote><p>Take a screenshot for the whole screen or specified area.<br>
It will save the screenshot image as an PNG into &quot;AutoTouch&quot; album of iOS Photo Library if the filePath parameter is nill, and will save the PNG to the speficied path if filePath is not nil.<br>
If region parameter is nil, it will take shot of the whole screen.<br>
By Clicking &quot;+&quot; button at top-right of AutoTouch view, then &quot;Copy Image Here&quot;, you are able to copy an image from iOS Photo Library to AutoTouch scripts directory.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>filePath</td> <td style="text-align:center;">string</td> <td>Where to save the image.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">&quot;AutoTouch&quot; album of iOS Photo Library</td></tr> <tr><td>region</td> <td style="text-align:center;">table</td> <td>You make a screenshot of the specified area. This area is the table type including four values {x, y, width, height}. The four values respectively represent the coordinate x, coordinate y, width, and height of the rectangular area. {100,100,200,200} is an example. If you do not want to specify the area, just input nil.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">nil</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Take shot of the whole screen and save into  &quot;AutoTouch&quot; album of iOS Photo Library.</span>
<span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Take a screenshot of the whole screen and save to the specified path, if no PNG as path extension, .PNG will automatically added.</span>
<span class="token function">screenshot</span> <span class="token punctuation">(</span><span class="token string">&quot;images/screenshot1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Take a screenshot of the specified area and save.</span>
<span class="token function">screenshot</span> <span class="token punctuation">(</span><span class="token string">&quot;images/screenshot2.PNG&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Take a screenshot of the specified area and save into  &quot;AutoTouch&quot; album of iOS Photo Library.</span>
<span class="token function">screenshot</span> <span class="token punctuation">(</span><span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="apprun-appidentifier"><a href="#apprun-appidentifier" class="header-anchor">#</a> appRun(appIdentifier)</h3> <blockquote><p>Run specified application.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>appIdentifier</td> <td style="text-align:center;">string</td> <td>Application identifier, including &quot;com.apple.mobilesafari&quot;. You can find the identifier from <a href="https://offcornerdev.com/bundleid.html" target="_blank" rel="noopener noreferrer">this service<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Run Safari</span>
<span class="token function">appRun</span><span class="token punctuation">(</span><span class="token string">&quot;com.apple.mobilesafari&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="appkill-appidentifier"><a href="#appkill-appidentifier" class="header-anchor">#</a> appKill(appIdentifier)</h3> <blockquote><p>Kill specified application.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>appIdentifier</td> <td style="text-align:center;">string</td> <td>Application identifier, including &quot;com.apple.mobilesafari&quot;. You can find the identifier from <a href="https://offcornerdev.com/bundleid.html" target="_blank" rel="noopener noreferrer">this service<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Kill the running Safari</span>
<span class="token function">appKill</span><span class="token punctuation">(</span><span class="token string">&quot;com.apple.mobilesafari&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="appstate-appidentifier"><a href="#appstate-appidentifier" class="header-anchor">#</a> appState(appIdentifier)</h3> <blockquote><p>Get the running state of the specified application</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>appIdentifier</td> <td style="text-align:center;">string</td> <td>Application identifier, including &quot;com.apple.mobilesafari&quot;. You can find the identifier from <a href="https://offcornerdev.com/bundleid.html" target="_blank" rel="noopener noreferrer">this service<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>state</td> <td style="text-align:center;">string</td> <td>State of Character string type: &quot;NOT RUNNING&quot;, &quot;ACTIVATED&quot;, &quot;DEACTIVATED&quot;。</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Get the state of Safari.</span>
<span class="token keyword">local</span> state <span class="token operator">=</span> <span class="token function">appState</span><span class="token punctuation">(</span><span class="token string">&quot;com.apple.mobilesafari&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;State of Safari: %s&quot;</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- Pop up the state of Safari: &quot;ACTIVATED&quot;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="rootdir"><a href="#rootdir" class="header-anchor">#</a> rootDir()</h3> <blockquote><p>Get the default directory address of the saved script. This is the default saving address of scripts and screenshots: &quot;/var/mobile/Library/AutoTouch/Scripts/&quot;.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>dir</td> <td style="text-align:center;">string</td> <td>Default directory address of the saved script.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> dirPath <span class="token operator">=</span> <span class="token function">rootDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>dirPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- Popup &quot;/var/mobile/Library/AutoTouch/Scripts/&quot;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="currentdir"><a href="#currentdir" class="header-anchor">#</a> currentDir()</h3> <blockquote><p>Get directory of current executing script in runtime.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>dir</td> <td style="text-align:center;">string</td> <td>Directory of script in runtime.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> dir <span class="token operator">=</span> <span class="token function">currentDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- &quot;/var/mobile/Library/AutoTouch/Scripts&quot;</span>
<span class="token comment">-- Or maybe in tmp place for encrypted scripts: &quot;/tmp/xxxxxxxxxxxx/&quot;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="botpath"><a href="#botpath" class="header-anchor">#</a> botPath()</h3> <blockquote><p>Get original path of the bot, relative to the runtime path of encrypted scripts.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>path</td> <td style="text-align:center;">string</td> <td>Original path of the bot.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> path <span class="token operator">=</span> <span class="token function">botPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- &quot;/var/mobile/Library/AutoTouch/Scripts/test.lua&quot;</span>
<span class="token comment">-- &quot;/var/mobile/Library/AutoTouch/Scripts/test1.ate&quot;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="usleep-microseconds"><a href="#usleep-microseconds" class="header-anchor">#</a> usleep(microseconds)</h3> <blockquote><p>Sleep several microseconds (1/1000000 second)</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>microseconds</td> <td style="text-align:center;">Integer</td> <td>The number of paused microseconds.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Sleep 1 second.</span>
<span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="log-content"><a href="#log-content" class="header-anchor">#</a> log(content)</h3> <blockquote><p>Record log, can be seen in the log interface.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>content</td> <td style="text-align:center;">string</td> <td>The log content to be recorded.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;play here...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="alert-message"><a href="#alert-message" class="header-anchor">#</a> alert(message)</h3> <blockquote><p>Pop up the dialog box to show specified content.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>message</td> <td style="text-align:center;">string</td> <td>Content to be showed.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="toast-message-delay"><a href="#toast-message-delay" class="header-anchor">#</a> toast(message, delay)</h3> <blockquote><p>Show messages with Toast style and delay for some seconds.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>message</td> <td style="text-align:center;">string</td> <td>Content to be showed.</td></tr> <tr><td>delay</td> <td style="text-align:center;">integer</td> <td>How long time to keep showing, default is 2 seconds.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">&quot;Hello I'm a toast!&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- Show message for 5 seconds.</span>
<span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">&quot;Hello again!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- Show message for 2 seconds.</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="vibrate"><a href="#vibrate" class="header-anchor">#</a> vibrate()</h3> <blockquote><p>Vibrate once。</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Vibrate once.</span>
<span class="token function">vibrate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="playaudio-audiofile-times"><a href="#playaudio-audiofile-times" class="header-anchor">#</a> playAudio(audioFile, times)</h3> <blockquote><p>Play audio document at specified location.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>audioFile</td> <td style="text-align:center;">string</td> <td>Absolute path of audio document.</td></tr> <tr><td>times</td> <td style="text-align:center;">integer</td> <td>Number of repeated plays. 0 represents infinite repeat.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Play audio infinitely.</span>
<span class="token function">playAudio</span><span class="token punctuation">(</span><span class="token string">&quot;/var/audio.mp3&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="stopaudio"><a href="#stopaudio" class="header-anchor">#</a> stopAudio()</h3> <blockquote><p>Stop playing audio.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Stop playing audio.</span>
<span class="token function">stopAudio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="getorientation"><a href="#getorientation" class="header-anchor">#</a> getOrientation()</h3> <blockquote><p>Get orientation of the screen. Return the integer value. Please refer to the &quot;Orientation Type of Screen&quot; for specific correspondence relation.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>orientation</td> <td style="text-align:center;">Integer</td> <td>Screen orientation may be <a href="#types-of-screen-orientations">these values</a></td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> o <span class="token operator">=</span> <span class="token function">getOrientation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Screen orientation is : %d&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">-- Pop up the orientation 2 of the screen, and mark the reversed screen.</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="getscreenresolution"><a href="#getscreenresolution" class="header-anchor">#</a> getScreenResolution()</h3> <blockquote><p>Get screen resolution bese on pixels.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>width</td> <td style="text-align:center;">Integer</td> <td>Width of screen resolution.</td></tr> <tr><td>height</td> <td style="text-align:center;">Integer</td> <td>Height of screen resolution.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> w<span class="token punctuation">,</span> h <span class="token operator">=</span> <span class="token function">getScreenResolution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Resolution of iPhone 6 Plus: width:%d, height:%d&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- iPhone 6 Plus's resolution width is 1242 and resolution height is 2208.</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="getsn"><a href="#getsn" class="header-anchor">#</a> getSN()</h3> <blockquote><p>Get Serial Number of the device.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>SN</td> <td style="text-align:center;">string</td> <td>Serial Number of the device.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> sn <span class="token operator">=</span> <span class="token function">getSN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;SN is : %s&quot;</span><span class="token punctuation">,</span> sn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- Popup shows the SN of the device: C15NFK32TWD2</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="getversion"><a href="#getversion" class="header-anchor">#</a> getVersion()</h3> <blockquote><p>Get version of AutoTouch.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>version</td> <td style="text-align:center;">string</td> <td>Version of AutoTouch.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> version <span class="token operator">=</span> <span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Current version of AutoTouch is : %s&quot;</span><span class="token punctuation">,</span> version<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- Pop up shows current version of AutoTouch: 3.5.3-4</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="frontmostappid"><a href="#frontmostappid" class="header-anchor">#</a> frontMostAppId()</h3> <blockquote><p>Get identifier of current front most App.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>App Identifier</td> <td style="text-align:center;">string</td> <td>App Identifier of current front most App.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> appId <span class="token operator">=</span> <span class="token function">frontMostAppId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Current front most App is : %s&quot;</span><span class="token punctuation">,</span> appId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="frontmostapporientation"><a href="#frontmostapporientation" class="header-anchor">#</a> frontMostAppOrientation()</h3> <blockquote><p>Get orientation of current front most App. See the <a href="#types-of-screen-orientations">Types of orientations</a></p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>Orientation</td> <td style="text-align:center;">integer</td> <td>Orientation of current front most App.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> orientation <span class="token operator">=</span> <span class="token function">frontMostAppOrientation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Orientation of current front most App is : %d&quot;</span><span class="token punctuation">,</span> orientation<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="inttorgb-intcolor"><a href="#inttorgb-intcolor" class="header-anchor">#</a> intToRgb(intColor)</h3> <blockquote><p>Transit integer color to independent values of R,G,B.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>intColor</td> <td style="text-align:center;">Integer</td> <td>Integer color value</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>R</td> <td style="text-align:center;">Integer</td> <td>Red color value.</td></tr> <tr><td>G</td> <td style="text-align:center;">Integer</td> <td>Green color value.</td></tr> <tr><td>B</td> <td style="text-align:center;">Integer</td> <td>Blue color value.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">intToRgb</span><span class="token punctuation">(</span><span class="token number">0x2b2b2b</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;R:%d, G:%d, B:%d&quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="rgbtoint-r-g-b"><a href="#rgbtoint-r-g-b" class="header-anchor">#</a> rgbToInt(r, g, b)</h3> <blockquote><p>Transit values of R,G,B to integer color value.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>R</td> <td style="text-align:center;">Integer</td> <td>Red color value.</td></tr> <tr><td>G</td> <td style="text-align:center;">Integer</td> <td>Green color value.</td></tr> <tr><td>B</td> <td style="text-align:center;">Integer</td> <td>Blue color value.</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>intColor</td> <td style="text-align:center;">Integer</td> <td>Integer color value</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> intColor <span class="token operator">=</span> <span class="token function">rgbToInt</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Int type color: %d&quot;</span><span class="token punctuation">,</span> intColor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="copytext-text"><a href="#copytext-text" class="header-anchor">#</a> copyText(text)</h3> <blockquote><p>Copy specified text to clipboard.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>text</td> <td style="text-align:center;">string</td> <td>Text to be copied.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">copyText</span><span class="token punctuation">(</span><span class="token string">&quot;This is a copied text!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="cliptext"><a href="#cliptext" class="header-anchor">#</a> clipText()</h3> <blockquote><p>Get the text in the clipboard.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>text</td> <td style="text-align:center;">string</td> <td>Text copied in the clipboard.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> text <span class="token operator">=</span> <span class="token function">clipText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- Popup shows the text to be copied: &quot;This is a copied text!&quot;;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="inputtext-text"><a href="#inputtext-text" class="header-anchor">#</a> inputText(text)</h3> <blockquote><p>Input text to the input box selected now. You can delete a character backspace by inputText(&quot;\b&quot;).
<strong>ATTENSION:</strong> Enable inoutText function at AutoTouch Settings &gt; Features before using it.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>text</td> <td style="text-align:center;">string</td> <td>Text to be input.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">inputText</span><span class="token punctuation">(</span><span class="token string">&quot;Let's input some text automatically without tapping the keyboard!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--  Delete 3 character by inputing 3 backspaces.</span>
<span class="token function">inputText</span><span class="token punctuation">(</span><span class="token string">&quot;\b\b\b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="dialog-controls-orientations"><a href="#dialog-controls-orientations" class="header-anchor">#</a> dialog(controls, orientations)</h3> <blockquote><p>Pop up self-defined dialog box to accept the user input. Please refer to the example for specific usage.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>controls</td> <td style="text-align:center;">table</td> <td>Array of self-defined controls. You can now use <a href="#types-of-dialog-controls">these dialog box controls</a>.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr> <tr><td>orientations</td> <td style="text-align:center;">table</td> <td>Orientations that dialog can be, see <a href="#types-of-screen-orientations">Types of orientations</a>.</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">auto</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>Flag of tapped button</td> <td style="text-align:center;">integer</td> <td></td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> label <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">=</span>CONTROLLER_TYPE<span class="token punctuation">.</span>LABEL<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">&quot;Would you mind to provide some personal informations?&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">local</span> nameInput <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">=</span>CONTROLLER_TYPE<span class="token punctuation">.</span>INPUT<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">&quot;Name:&quot;</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token string">&quot;Name&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">local</span> positionPicker <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">=</span>CONTROLLER_TYPE<span class="token punctuation">.</span>PICKER<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">&quot;Position:&quot;</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token string">&quot;Position&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token string">&quot;CEO&quot;</span><span class="token punctuation">,</span> options<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;CEO&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CTO&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CFO&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CXO&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token keyword">local</span> developerSwitch <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">=</span>CONTROLLER_TYPE<span class="token punctuation">.</span>SWITCH<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">&quot;A Developer:&quot;</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token string">&quot;ADeveloper&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">}</span>

<span class="token comment">-- It's an option for users to determine weather the inputs should be remembered, if you use this control in the dialog.</span>
<span class="token keyword">local</span> remember <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">=</span>CONTROLLER_TYPE<span class="token punctuation">.</span>REMEMBER<span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token keyword">false</span><span class="token punctuation">}</span>

<span class="token comment">--[[ Define buttons:
type = CONTROLLER_TYPE.BUTTON
title = Button text
color = Button background color, it's optional, the default value is 0x428BCA
width = Button width upon percentage of the dialog width, it's optional, the default value is 0.5, max value is 1.0.
flag = Integer type of button flag for identifying which button is tapped.
collectInputs = Boolean type specifying wheather the dialog should collect the inputs while this button is tapped. ]]</span><span class="token comment">--</span>
<span class="token keyword">local</span> btn1 <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">=</span>CONTROLLER_TYPE<span class="token punctuation">.</span>BUTTON<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">&quot;Button 1&quot;</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token number">0x71C69E</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> collectInputs<span class="token operator">=</span><span class="token keyword">false</span><span class="token punctuation">}</span>
<span class="token keyword">local</span> btn2 <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">=</span>CONTROLLER_TYPE<span class="token punctuation">.</span>BUTTON<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">&quot;Button 2&quot;</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token number">0xFF5733</span><span class="token punctuation">,</span> flag<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> collectInputs<span class="token operator">=</span><span class="token keyword">true</span><span class="token punctuation">}</span>
<span class="token keyword">local</span> btn3 <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">=</span>CONTROLLER_TYPE<span class="token punctuation">.</span>BUTTON<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">&quot;Button 3&quot;</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token number">0xFFB7D0</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">,</span> flag<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> collectInputs<span class="token operator">=</span><span class="token keyword">false</span><span class="token punctuation">}</span>
<span class="token keyword">local</span> btn4 <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">=</span>CONTROLLER_TYPE<span class="token punctuation">.</span>BUTTON<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">&quot;Button 4&quot;</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">,</span> flag<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> collectInputs<span class="token operator">=</span><span class="token keyword">true</span><span class="token punctuation">}</span>

<span class="token keyword">local</span> controls <span class="token operator">=</span> <span class="token punctuation">{</span>label<span class="token punctuation">,</span> nameInput<span class="token punctuation">,</span> positionPicker<span class="token punctuation">,</span> developerSwitch<span class="token punctuation">,</span> btn1<span class="token punctuation">,</span> btn2<span class="token punctuation">,</span> remember<span class="token punctuation">,</span> btn3<span class="token punctuation">,</span> btn4<span class="token punctuation">}</span>

<span class="token comment">-- Pop up the dialog. After popping, the script will suspend waiting for user input until any button is tapped, then returns the flag of tapped button.</span>

<span class="token comment">-- What orientations the dialog could be, it's optional</span>
<span class="token keyword">local</span> orientations <span class="token operator">=</span> <span class="token punctuation">{</span> ORIENTATION_TYPE<span class="token punctuation">.</span>LANDSCAPE_LEFT<span class="token punctuation">,</span> ORIENTATION_TYPE<span class="token punctuation">.</span>LANDSCAPE_RIGHT <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">dialog</span><span class="token punctuation">(</span>controls<span class="token punctuation">,</span> orientations<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;name:%s, birthday:%s, gender:%d&quot;</span><span class="token punctuation">,</span> nameInput<span class="token punctuation">.</span>value<span class="token punctuation">,</span> positionPicker<span class="token punctuation">.</span>value<span class="token punctuation">,</span> developerSwitch<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">else</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Dialog returned: %s&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p><img src="https://i.imgur.com/GN9wji7.png" alt="dialog"></p> <p><a href="#usage">Top</a></p> <h3 id="cleardialogvalues-script"><a href="#cleardialogvalues-script" class="header-anchor">#</a> clearDialogValues(script)</h3> <blockquote><p>Clear the remembered values of the dialog created by the function dialog.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>script</td> <td style="text-align:center;">string</td> <td>script path. eg. there is a dialog.lua script in the scripts list, use it like this: clearDialogValues(&quot;dialog.lua&quot;);</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- There is a dialog.lua script in the scripts list</span>
<span class="token function">clearDialogValues</span><span class="token punctuation">(</span><span class="token string">&quot;dialog.lua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="openurl-urlstring"><a href="#openurl-urlstring" class="header-anchor">#</a> openURL(urlString)</h3> <blockquote><p>Open url, or open other apps' url scheme. Look at <a href="https://ios.gadgethacks.com/news/always-updated-list-ios-app-url-scheme-names-0184033/" target="_blank" rel="noopener noreferrer">Always-Updated List of iOS App URL Scheme Names<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and example: <a href="https://developers.google.com/maps/documentation/urls/ios-urlscheme" target="_blank" rel="noopener noreferrer">Google Maps URL Scheme for iOS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>urlString</td> <td style="text-align:center;">string</td> <td>Target to open.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">openURL</span><span class="token punctuation">(</span><span class="token string">&quot;https://autotouch.net&quot;</span><span class="token punctuation">)</span>
<span class="token function">openURL</span><span class="token punctuation">(</span><span class="token string">&quot;prefs:root=General&amp;path=About&quot;</span><span class="token punctuation">)</span>
<span class="token function">openURL</span><span class="token punctuation">(</span><span class="token string">&quot;musics://&quot;</span><span class="token punctuation">)</span>
<span class="token function">openURL</span><span class="token punctuation">(</span><span class="token string">&quot;itms-apps://itunes.apple.com&quot;</span><span class="token punctuation">)</span>
<span class="token function">openURL</span><span class="token punctuation">(</span><span class="token string">&quot;tel://+1123456&quot;</span><span class="token punctuation">)</span>
<span class="token function">openURL</span><span class="token punctuation">(</span><span class="token string">&quot;clashofclans://&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="islicensed"><a href="#islicensed" class="header-anchor">#</a> isLicensed()</h3> <blockquote><p>Check if the current device is running licensed AutoTouch</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>licensed</td> <td style="text-align:center;">boolean</td> <td>If current device is licensed.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">if</span> <span class="token function">isLicensed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Your device is licensed by AutoTouch!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="setautolaunch-scriptpath-on"><a href="#setautolaunch-scriptpath-on" class="header-anchor">#</a> setAutoLaunch(scriptPath, on)</h3> <blockquote><p>Switch on/off a script as auto launch.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>filePath</td> <td style="text-align:center;">string</td> <td>Path starts with &quot;/&quot; is a absolute path, otherwise it's a relative path.</td></tr> <tr><td>on</td> <td style="text-align:center;">boolean</td> <td>Switch auto launch on or off, true means on, false means off.</td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">setAutoLaunch</span><span class="token punctuation">(</span><span class="token string">&quot;Records/test.lua&quot;</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="listautolaunch"><a href="#listautolaunch" class="header-anchor">#</a> listAutoLaunch()</h3> <blockquote><p>List all auto launch scripts</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>scripts</td> <td style="text-align:center;">table</td> <td>Relative path List of auto launch scripts.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> scripts <span class="token operator">=</span> <span class="token function">listAutoLaunch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>scripts<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="stop"><a href="#stop" class="header-anchor">#</a> stop()</h3> <blockquote><p>SStop the current script execution.</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Exit execution</span>
<span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="ocr-options"><a href="#ocr-options" class="header-anchor">#</a> ocr(options)</h3> <p><code>v8.0.10 and above</code></p> <blockquote><p>Text recognition from the screen</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>options</td> <td style="text-align:center;">table</td> <td>look at the example code below</td> <td style="text-align:center;">YES</td> <td style="text-align:center;">Whole screen</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>Recognized Texts</td> <td style="text-align:center;">table</td> <td>Look at the example code and output.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- Example:</span>

<span class="token comment">-- Use remote AI service which bases on `TesseractOCR` at present.</span>
<span class="token keyword">local</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">-- OPTIONAL, default is `OCR_METHOD.IOS_VISION`, `AI_CLOUD` means remote AI service which bases on `TesseractOCR`.</span>
    method <span class="token operator">=</span> OCR_METHOD<span class="token punctuation">.</span>AI_CLOUD<span class="token punctuation">,</span>

    <span class="token comment">-- OPTIONAL, image path (relative or absolute path), default is nil, nil means do ocr on the screen, otherwise do ocr on the provided image.</span>
    <span class="token comment">-- image = &quot;./image.png&quot;,</span>

    <span class="token comment">-- OPTIONAL, specified the region to recognize text, default is nil which means the whole screen.</span>
    region <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">-- OPTIONAL, you can find the options from https://github.com/tesseract-ocr/tessdata</span>
    lang <span class="token operator">=</span> <span class="token string">'eng+fra'</span><span class="token punctuation">,</span>

    <span class="token comment">-- OPTIONAL, what characters you want to recognize in the region, such as &quot;0123456789&quot; will find numbers only, default is nil.</span>
    whitelist <span class="token operator">=</span> <span class="token string">'1234567890'</span><span class="token punctuation">,</span>

    <span class="token comment">-- OPTIONAL, default is 10 seconds</span>
    timeout <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>

    <span class="token comment">-- OPTIONAL, whether you want to produce debug image, default is false</span>
    debug <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">ocr</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
<span class="token keyword">local</span> s <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">tostring</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

<span class="token comment">-- Example:</span>

<span class="token comment">-- Use iOS built-in `Vision.framework` to do ocr, it usually works better than others, </span>
<span class="token comment">-- but might have issue on some devices or with some jailbreak tools.</span>
<span class="token keyword">local</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">-- OPTIONAL, default is `OCR_METHOD.IOS_VISION`</span>
    method <span class="token operator">=</span> OCR_METHOD<span class="token punctuation">.</span>IOS_VISION<span class="token punctuation">,</span>

    <span class="token comment">-- OPTIONAL, image path (relative or absolute path), default is nil, nil means do ocr on the screen, otherwise do ocr on the provided image.</span>
    <span class="token comment">-- image = &quot;./image.png&quot;,</span>
    
    <span class="token comment">-- OPTIONAL, specified the region to recognize text, default is nil which means the whole screen.</span>
    region <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">-- OPTIONAL, an array of strings to supplement the recognized languages at the word recognition stage, default is nil.</span>
    <span class="token comment">-- customWords = {&quot;Playing&quot;},</span>
    
    <span class="token comment">-- OPTIONAL, the minimum height of the text expected to be recognized, relative to the region/screen height, default is 1/32.</span>
    <span class="token comment">-- minimumTextHeight = nil,</span>

    <span class="token comment">-- OPTIONAL, default is 0 which means accurate first, value 1 means speed first</span>
    <span class="token comment">-- level = 0,</span>

    <span class="token comment">-- OPTIONAL, an array of languages to detect, in priority order. ISO language codes: http://www.lingoes.net/en/translator/langcode.htm.</span>
    languages <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'en-US'</span><span class="token punctuation">,</span> <span class="token string">&quot;fr-FR&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">-- OPTIONAL, whether use language correction during the recognition process, default is false</span>
    correct <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">,</span>

    <span class="token comment">-- OPTIONAL, default is 10 seconds</span>
    timeout <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>

    <span class="token comment">-- OPTIONAL, whether you want to produce debug image, default is false</span>
    debug <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">ocr</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
<span class="token keyword">local</span> s <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">tostring</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

<span class="token comment">-- Example</span>

<span class="token comment">-- Got table(array) result with format:</span>
<span class="token comment">-- {</span>
<span class="token comment">--     {</span>
<span class="token comment">--         &quot;text&quot;: &quot;Example&quot;,</span>
<span class="token comment">--         &quot;rectangle&quot;: {</span>
<span class="token comment">--             &quot;bottomRight&quot;: {</span>
<span class="token comment">--                 &quot;x&quot;: 300.47,</span>
<span class="token comment">--                 &quot;y&quot;: 177.78</span>
<span class="token comment">--             },</span>
<span class="token comment">--             &quot;topRight&quot;: {</span>
<span class="token comment">--                 &quot;x&quot;: 300.47,</span>
<span class="token comment">--                 &quot;y&quot;: 237.52</span>
<span class="token comment">--             },</span>
<span class="token comment">--             &quot;topLeft&quot;: {</span>
<span class="token comment">--                 &quot;x&quot;: 33.51,</span>
<span class="token comment">--                 &quot;y&quot;: 237.42</span>
<span class="token comment">--             },</span>
<span class="token comment">--             &quot;bottomLeft&quot;: {</span>
<span class="token comment">--                 &quot;x&quot;: 33.51,</span>
<span class="token comment">--                 &quot;y&quot;: 177.68</span>
<span class="token comment">--             }</span>
<span class="token comment">--         }</span>
<span class="token comment">--     }</span>
<span class="token comment">-- }</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="appinfo-appidentifier"><a href="#appinfo-appidentifier" class="header-anchor">#</a> appInfo(appIdentifier)</h3> <blockquote><p>Get the speficied App's displayName,executablePath,bundleContainerPath,dataContainerPath.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>appIdentifier</td> <td style="text-align:center;">String</td> <td>App identifier，such as &quot;com.apple.mobilesafari&quot;, Get identifiers from <a href="https://offcornerdev.com/bundleid.html" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>info</td> <td style="text-align:center;">table</td> <td>App info table</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> result <span class="token operator">=</span> <span class="token function">appInfo</span><span class="token punctuation">(</span><span class="token string">&quot;com.microsoft.Office.Outlook&quot;</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span><span class="token function">tostring</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="settimer-scriptpath-firetime-repeat-interval"><a href="#settimer-scriptpath-firetime-repeat-interval" class="header-anchor">#</a> setTimer(scriptPath, fireTime, repeat, interval)</h3> <blockquote><p>Set timer for a script.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>filePath</td> <td style="text-align:center;">string</td> <td>Path starts with &quot;/&quot; is a absolute path, otherwise it's a relative path</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr> <tr><td>fireTime</td> <td style="text-align:center;">string or integer</td> <td>When should the timer trigger. If this parameter is an integer, it means you want it trigger after n seconds from now on, if it is a string, it should be a datetime with format &quot;2019-09-17 08:12:52&quot; which means the timer will trigger at this time.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr> <tr><td>repeat</td> <td style="text-align:center;">boolean</td> <td>If the timer should run repleatly.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr> <tr><td>interval</td> <td style="text-align:center;">integer</td> <td>Repeat interval in seconds.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>done</td> <td style="text-align:center;">boolean</td> <td>If it is successful.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token comment">-- trigger after 1000 seconds</span>
<span class="token keyword">local</span> done <span class="token operator">=</span> <span class="token function">setTimer</span><span class="token punctuation">(</span><span class="token string">&quot;Records/test.lua&quot;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- Equals to</span>
const done <span class="token operator">=</span> at<span class="token punctuation">.</span><span class="token function">setTimer</span><span class="token punctuation">(</span><span class="token string">&quot;/var/mobile/Library/AutoTouch/Scripts/Records/test.lua&quot;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">-- trigger at 2019-09-17 08:12:52 and repeat every 10000 seconds</span>
<span class="token keyword">local</span> done <span class="token operator">=</span> <span class="token function">setTimer</span><span class="token punctuation">(</span><span class="token string">&quot;Records/test.lua&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2019-09-17 08:12:52&quot;</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="removetimer-scriptpath"><a href="#removetimer-scriptpath" class="header-anchor">#</a> removeTimer(scriptPath)</h3> <blockquote><p>Remove timer of a script.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>filePath</td> <td style="text-align:center;">string</td> <td>Relative path of a script inside script directory of AutoTouch, such as &quot;/Records/test.lua&quot;.</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr></tbody></table> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>done</td> <td style="text-align:center;">boolean</td> <td>If it is successful.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> done <span class="token operator">=</span> <span class="token function">removeTimer</span><span class="token punctuation">(</span><span class="token string">&quot;/Records/test.lua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="keepautotouchawake-keepawake"><a href="#keepautotouchawake-keepawake" class="header-anchor">#</a> keepAutoTouchAwake(keepAwake)</h3> <blockquote><p>Keep AutoTouch awake aginst iOS idle sleep.</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>keepAwake</td> <td style="text-align:center;">boolean</td> <td>Keep AutoTouch awake or not</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">keepAutoTouchAwake</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="savetosystemalbum-filepath-albumname"><a href="#savetosystemalbum-filepath-albumname" class="header-anchor">#</a> saveToSystemAlbum(filePath, albumName)</h3> <blockquote><p>Save an image or video from specific path to system</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>filePath</td> <td style="text-align:center;">string</td> <td>File relative path or absolute path</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr> <tr><td>albumName</td> <td style="text-align:center;">string</td> <td>Album name</td> <td style="text-align:center;">YES</td> <td style="text-align:center;"></td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">saveToSystemAlbum</span><span class="token punctuation">(</span><span class="token string">&quot;Examples/images/cat.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- Save an image or video from specific path to system album without specifying the album name</span>
<span class="token function">saveToSystemAlbum</span><span class="token punctuation">(</span><span class="token string">&quot;Examples/images/cat.png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Test1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- Save an image or video from specific path to a specified system album</span>
<span class="token function">saveToSystemAlbum</span><span class="token punctuation">(</span><span class="token string">&quot;test.mp4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- Save an image or video from specific path to a specified system album</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="clearsystemalbum-albumname"><a href="#clearsystemalbum-albumname" class="header-anchor">#</a> clearSystemAlbum(albumName)</h3> <blockquote><p>Clear all images and videos in system album</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>albumName</td> <td style="text-align:center;">string</td> <td>Album name</td> <td style="text-align:center;">YES</td> <td style="text-align:center;"></td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">saveToSystemAlbum</span><span class="token punctuation">(</span><span class="token string">&quot;test.mp4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- Save an image or video from specific path to a specified system album</span>

<span class="token function">clearSystemAlbum</span><span class="token punctuation">(</span><span class="token string">&quot;Test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- Clear all images and videos in a specific system album</span>
<span class="token function">clearSystemAlbum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- Clear all images and videos in all system albums</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="execute-command"><a href="#execute-command" class="header-anchor">#</a> execute(command)</h3> <blockquote><p>Execute command</p></blockquote> <p><code>Parameters</code></p> <table><thead><tr><th>Parameter</th> <th style="text-align:center;">Type</th> <th>Specification</th> <th style="text-align:center;">Optional</th> <th style="text-align:center;">Default</th></tr></thead> <tbody><tr><td>command</td> <td style="text-align:center;">string</td> <td>Command</td> <td style="text-align:center;">NO</td> <td style="text-align:center;"></td></tr></tbody></table> <p><code>Return</code></p> <p>None</p> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> reuslt <span class="token operator">=</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token string">&quot;ls -l /&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre></div><p><a href="#usage">Top</a></p> <h3 id="getlocalip"><a href="#getlocalip" class="header-anchor">#</a> getLocalIP()</h3> <blockquote><p>Get local IP</p></blockquote> <p><code>Parameters</code></p> <p>None</p> <p><code>Return</code></p> <table><thead><tr><th>Return</th> <th style="text-align:center;">Type</th> <th>Specification</th></tr></thead> <tbody><tr><td>Local IP</td> <td style="text-align:center;">string</td> <td>Local IP.</td></tr></tbody></table> <p><code>Examples</code></p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">local</span> ip <span class="token operator">=</span> <span class="token function">getLocalIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ip<span class="token punctuation">)</span>
</code></pre></div><p><a href="#usage">Top</a></p> <hr> <h2 id="constants"><a href="#constants" class="header-anchor">#</a> Constants</h2> <h3 id="types-of-physical-keys"><a href="#types-of-physical-keys" class="header-anchor">#</a> Types of physical keys</h3> <table><thead><tr><th>Value</th> <th>Specification</th></tr></thead> <tbody><tr><td>KEY_TYPE.HOME_BUTTON</td> <td>Home Button</td></tr> <tr><td>KEY_TYPE.VOLUME_DOWN_BUTTON</td> <td>Volume – Button</td></tr> <tr><td>KEY_TYPE.VOLUME_UP_BUTTON</td> <td>Volume + Button</td></tr> <tr><td>KEY_TYPE.POWER_BUTTON</td> <td>Power Button</td></tr></tbody></table> <p><a href="#usage">Top</a></p> <h3 id="types-of-dialog-controls"><a href="#types-of-dialog-controls" class="header-anchor">#</a> Types of dialog controls</h3> <table><thead><tr><th>Value</th> <th>Specification</th></tr></thead> <tbody><tr><td>CONTROLLER_TYPE.LABEL</td> <td>Text label</td></tr> <tr><td>CONTROLLER_TYPE.INPUT</td> <td>Input box</td></tr> <tr><td>CONTROLLER_TYPE.PICKER</td> <td>Picker</td></tr> <tr><td>CONTROLLER_TYPE.SWITCH</td> <td>Switch</td></tr> <tr><td>CONTROLLER_TYPE.BUTTON</td> <td>Button</td></tr> <tr><td>CONTROLLER_TYPE.REMEMBER</td> <td>Switch for remember user inputs</td></tr></tbody></table> <p><a href="#usage">Top</a></p> <h3 id="types-of-screen-orientations"><a href="#types-of-screen-orientations" class="header-anchor">#</a> Types of screen orientations</h3> <table><thead><tr><th>Value</th> <th>Specification</th></tr></thead> <tbody><tr><td>ORIENTATION_TYPE.UNKNOWN</td> <td>Unknown orientation. Practical value is 0.</td></tr> <tr><td>ORIENTATION_TYPE.PORTRAIT</td> <td>Portrait screen. Home button is at the bottom. Practical value is 1.</td></tr> <tr><td>ORIENTATION_TYPE.PORTRAIT_UPSIDE_DOWN</td> <td>Upside-down portrait screen. Home button on the top. Practical value is 2.</td></tr> <tr><td>ORIENTATION_TYPE.LANDSCAPE_LEFT</td> <td>Landscape left screen. Home Key is in the left. Practical value is 3.</td></tr> <tr><td>ORIENTATION_TYPE.LANDSCAPE_RIGHT</td> <td>Landscape right screen. Home key is in the right. Practical value is 4.</td></tr></tbody></table> <h3 id="types-of-ocr-method"><a href="#types-of-ocr-method" class="header-anchor">#</a> Types of ocr method</h3> <table><thead><tr><th>Value</th> <th>Specification</th></tr></thead> <tbody><tr><td>OCR_METHOD.IOS_VISION</td> <td>Use iOS built-in <code>Vision.framework</code> to do <code>ocr</code>.</td></tr> <tr><td>OCR_METHOD.AI_CLOUD</td> <td>Use remote AI service bases on <code>TesseractOCR</code> to do <code>ocr</code>.</td></tr></tbody></table> <p><a href="#usage">Top</a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7 months ago</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/" class="prev router-link-active">
        About AutoTouch
      </a></span> <span class="next"><a href="/js/">
        JavaScript Guide
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b000b161.js" defer></script><script src="/assets/js/3.5e6777c5.js" defer></script><script src="/assets/js/14.2fa848d6.js" defer></script>
  </body>
</html>
